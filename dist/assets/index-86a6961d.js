var Ln=Object.defineProperty;var En=(t,e,n)=>e in t?Ln(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ht=(t,e,n)=>(En(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ht(){}function nn(t){return t()}function xe(){return Object.create(null)}function mt(t){t.forEach(nn)}function rn(t){return typeof t=="function"}function sn(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Tn(t){return Object.keys(t).length===0}function F(t,e){t.appendChild(e)}function ot(t,e,n){t.insertBefore(e,n||null)}function U(t){t.parentNode&&t.parentNode.removeChild(t)}function Dn(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function ft(t){return document.createElement(t)}function Nt(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function ee(t){return document.createTextNode(t)}function an(){return ee(" ")}function Me(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function O(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function In(t){return Array.from(t.childNodes)}function we(t,e){e=""+e,t.data!==e&&(t.data=e)}let xt;function Rn(){if(xt===void 0){xt=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{xt=!0}}return xt}function zn(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const r=ft("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const i=Rn();let s;return i?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",s=Me(window,"message",o=>{o.source===r.contentWindow&&e()})):(r.src="about:blank",r.onload=()=>{s=Me(r.contentWindow,"resize",e),e()}),F(t,r),()=>{(i||s&&r.contentWindow)&&s(),U(r)}}let lt;function ut(t){lt=t}function jn(){if(!lt)throw new Error("Function called outside component initialization");return lt}function on(t){jn().$$.on_mount.push(t)}const K=[],ke=[];let et=[];const ve=[],Wn=Promise.resolve();let ne=!1;function qn(){ne||(ne=!0,Wn.then(un))}function Ct(t){et.push(t)}const Gt=new Set;let X=0;function un(){if(X!==0)return;const t=lt;do{try{for(;X<K.length;){const e=K[X];X++,ut(e),Fn(e.$$)}}catch(e){throw K.length=0,X=0,e}for(ut(null),K.length=0,X=0;ke.length;)ke.pop()();for(let e=0;e<et.length;e+=1){const n=et[e];Gt.has(n)||(Gt.add(n),n())}et.length=0}while(K.length);for(;ve.length;)ve.pop()();ne=!1,Gt.clear(),ut(t)}function Fn(t){if(t.fragment!==null){t.update(),mt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ct)}}function Hn(t){const e=[],n=[];et.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),et=e}const Pt=new Set;let B;function Gn(){B={r:0,c:[],p:B}}function Bn(){B.r||mt(B.c),B=B.p}function ct(t,e){t&&t.i&&(Pt.delete(t),t.i(e))}function re(t,e,n,r){if(t&&t.o){if(Pt.has(t))return;Pt.add(t),B.c.push(()=>{Pt.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function _e(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Vn(t){t&&t.c()}function cn(t,e,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),Ct(()=>{const s=t.$$.on_mount.map(nn).filter(rn);t.$$.on_destroy?t.$$.on_destroy.push(...s):mt(s),t.$$.on_mount=[]}),i.forEach(Ct)}function hn(t,e){const n=t.$$;n.fragment!==null&&(Hn(n.after_update),mt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Un(t,e){t.$$.dirty[0]===-1&&(K.push(t),qn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function fn(t,e,n,r,i,s,o,a=[-1]){const c=lt;ut(t);const u=t.$$={fragment:null,ctx:[],props:s,update:ht,not_equal:i,bound:xe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:xe(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};o&&o(u.root);let h=!1;if(u.ctx=n?n(t,e.props||{},(f,l,...d)=>{const p=d.length?d[0]:l;return u.ctx&&i(u.ctx[f],u.ctx[f]=p)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](p),h&&Un(t,f)),l}):[],u.update(),h=!0,mt(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const f=In(e.target);u.fragment&&u.fragment.l(f),f.forEach(U)}else u.fragment&&u.fragment.c();e.intro&&ct(t.$$.fragment),cn(t,e.target,e.anchor),un()}ut(c)}class ln{constructor(){Ht(this,"$$");Ht(this,"$$set")}$destroy(){hn(this,1),this.$destroy=ht}$on(e,n){if(!rn(n))return ht;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!Tn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Zn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Zn);var $e={},Bt={},Vt=34,it=10,Ut=13;function dn(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function Qn(t,e){var n=dn(t);return function(r,i){return e(n(r),i,t)}}function Pe(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var i in r)i in e||n.push(e[i]=i)}),n}function L(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function Yn(t){return t<0?"-"+L(-t,6):t>9999?"+"+L(t,6):L(t,4)}function Xn(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Yn(t.getUTCFullYear())+"-"+L(t.getUTCMonth()+1,2)+"-"+L(t.getUTCDate(),2)+(i?"T"+L(e,2)+":"+L(n,2)+":"+L(r,2)+"."+L(i,3)+"Z":r?"T"+L(e,2)+":"+L(n,2)+":"+L(r,2)+"Z":n||e?"T"+L(e,2)+":"+L(n,2)+"Z":"")}function Jn(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(f,l){var d,p,g=i(f,function(b,y){if(d)return d(b,y-1);p=b,d=l?Qn(b,l):dn(b)});return g.columns=p||[],g}function i(f,l){var d=[],p=f.length,g=0,b=0,y,m=p<=0,x=!1;f.charCodeAt(p-1)===it&&--p,f.charCodeAt(p-1)===Ut&&--p;function $(){if(m)return Bt;if(x)return x=!1,$e;var v,_=g,A;if(f.charCodeAt(_)===Vt){for(;g++<p&&f.charCodeAt(g)!==Vt||f.charCodeAt(++g)===Vt;);return(v=g)>=p?m=!0:(A=f.charCodeAt(g++))===it?x=!0:A===Ut&&(x=!0,f.charCodeAt(g)===it&&++g),f.slice(_+1,v-1).replace(/""/g,'"')}for(;g<p;){if((A=f.charCodeAt(v=g++))===it)x=!0;else if(A===Ut)x=!0,f.charCodeAt(g)===it&&++g;else if(A!==n)continue;return f.slice(_,v)}return m=!0,f.slice(_,p)}for(;(y=$())!==Bt;){for(var k=[];y!==$e&&y!==Bt;)k.push(y),y=$();l&&(k=l(k,b++))==null||d.push(k)}return d}function s(f,l){return f.map(function(d){return l.map(function(p){return h(d[p])}).join(t)})}function o(f,l){return l==null&&(l=Pe(f)),[l.map(h).join(t)].concat(s(f,l)).join(`
`)}function a(f,l){return l==null&&(l=Pe(f)),s(f,l).join(`
`)}function c(f){return f.map(u).join(`
`)}function u(f){return f.map(h).join(t)}function h(f){return f==null?"":f instanceof Date?Xn(f):e.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:o,formatBody:a,formatRows:c,formatRow:u,formatValue:h}}var Kn=Jn(","),tr=Kn.parse;function Zt(t,e,n){if(t&&t.length){const[r,i]=e,s=Math.PI/180*n,o=Math.cos(s),a=Math.sin(s);for(const c of t){const[u,h]=c;c[0]=(u-r)*o-(h-i)*a+r,c[1]=(u-r)*a+(h-i)*o+i}}}function er(t,e){return t[0]===e[0]&&t[1]===e[1]}function nr(t,e,n,r=1){const i=n,s=Math.max(e,.1),o=t[0]&&t[0][0]&&typeof t[0][0]=="number"?[t]:t,a=[0,0];if(i)for(const u of o)Zt(u,a,i);const c=function(u,h,f){const l=[];for(const m of u){const x=[...m];er(x[0],x[x.length-1])||x.push([x[0][0],x[0][1]]),x.length>2&&l.push(x)}const d=[];h=Math.max(h,.1);const p=[];for(const m of l)for(let x=0;x<m.length-1;x++){const $=m[x],k=m[x+1];if($[1]!==k[1]){const v=Math.min($[1],k[1]);p.push({ymin:v,ymax:Math.max($[1],k[1]),x:v===$[1]?$[0]:k[0],islope:(k[0]-$[0])/(k[1]-$[1])})}}if(p.sort((m,x)=>m.ymin<x.ymin?-1:m.ymin>x.ymin?1:m.x<x.x?-1:m.x>x.x?1:m.ymax===x.ymax?0:(m.ymax-x.ymax)/Math.abs(m.ymax-x.ymax)),!p.length)return d;let g=[],b=p[0].ymin,y=0;for(;g.length||p.length;){if(p.length){let m=-1;for(let x=0;x<p.length&&!(p[x].ymin>b);x++)m=x;p.splice(0,m+1).forEach(x=>{g.push({s:b,edge:x})})}if(g=g.filter(m=>!(m.edge.ymax<=b)),g.sort((m,x)=>m.edge.x===x.edge.x?0:(m.edge.x-x.edge.x)/Math.abs(m.edge.x-x.edge.x)),(f!==1||y%h==0)&&g.length>1)for(let m=0;m<g.length;m+=2){const x=m+1;if(x>=g.length)break;const $=g[m].edge,k=g[x].edge;d.push([[Math.round($.x),b],[Math.round(k.x),b]])}b+=f,g.forEach(m=>{m.edge.x=m.edge.x+f*m.edge.islope}),y++}return d}(o,s,r);if(i){for(const u of o)Zt(u,a,-i);(function(u,h,f){const l=[];u.forEach(d=>l.push(...d)),Zt(l,h,f)})(c,a,-i)}return c}function bt(t,e){var n;const r=e.hachureAngle+90;let i=e.hachureGap;i<0&&(i=4*e.strokeWidth),i=Math.round(Math.max(i,.1));let s=1;return e.roughness>=1&&(((n=e.randomizer)===null||n===void 0?void 0:n.next())||Math.random())>.7&&(s=i),nr(t,i,r,s||1)}class fe{constructor(e){this.helper=e}fillPolygons(e,n){return this._fillPolygons(e,n)}_fillPolygons(e,n){const r=bt(e,n);return{type:"fillSketch",ops:this.renderLines(r,n)}}renderLines(e,n){const r=[];for(const i of e)r.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],n));return r}}function Ft(t){const e=t[0],n=t[1];return Math.sqrt(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2))}class rr extends fe{fillPolygons(e,n){let r=n.hachureGap;r<0&&(r=4*n.strokeWidth),r=Math.max(r,.1);const i=bt(e,Object.assign({},n,{hachureGap:r})),s=Math.PI/180*n.hachureAngle,o=[],a=.5*r*Math.cos(s),c=.5*r*Math.sin(s);for(const[u,h]of i)Ft([u,h])&&o.push([[u[0]-a,u[1]+c],[...h]],[[u[0]+a,u[1]-c],[...h]]);return{type:"fillSketch",ops:this.renderLines(o,n)}}}class ir extends fe{fillPolygons(e,n){const r=this._fillPolygons(e,n),i=Object.assign({},n,{hachureAngle:n.hachureAngle+90}),s=this._fillPolygons(e,i);return r.ops=r.ops.concat(s.ops),r}}class sr{constructor(e){this.helper=e}fillPolygons(e,n){const r=bt(e,n=Object.assign({},n,{hachureAngle:0}));return this.dotsOnLines(r,n)}dotsOnLines(e,n){const r=[];let i=n.hachureGap;i<0&&(i=4*n.strokeWidth),i=Math.max(i,.1);let s=n.fillWeight;s<0&&(s=n.strokeWidth/2);const o=i/4;for(const a of e){const c=Ft(a),u=c/i,h=Math.ceil(u)-1,f=c-h*i,l=(a[0][0]+a[1][0])/2-i/4,d=Math.min(a[0][1],a[1][1]);for(let p=0;p<h;p++){const g=d+f+p*i,b=l-o+2*Math.random()*o,y=g-o+2*Math.random()*o,m=this.helper.ellipse(b,y,s,s,n);r.push(...m.ops)}}return{type:"fillSketch",ops:r}}}class ar{constructor(e){this.helper=e}fillPolygons(e,n){const r=bt(e,n);return{type:"fillSketch",ops:this.dashedLine(r,n)}}dashedLine(e,n){const r=n.dashOffset<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashOffset,i=n.dashGap<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashGap,s=[];return e.forEach(o=>{const a=Ft(o),c=Math.floor(a/(r+i)),u=(a+i-c*(r+i))/2;let h=o[0],f=o[1];h[0]>f[0]&&(h=o[1],f=o[0]);const l=Math.atan((f[1]-h[1])/(f[0]-h[0]));for(let d=0;d<c;d++){const p=d*(r+i),g=p+r,b=[h[0]+p*Math.cos(l)+u*Math.cos(l),h[1]+p*Math.sin(l)+u*Math.sin(l)],y=[h[0]+g*Math.cos(l)+u*Math.cos(l),h[1]+g*Math.sin(l)+u*Math.sin(l)];s.push(...this.helper.doubleLineOps(b[0],b[1],y[0],y[1],n))}}),s}}class or{constructor(e){this.helper=e}fillPolygons(e,n){const r=n.hachureGap<0?4*n.strokeWidth:n.hachureGap,i=n.zigzagOffset<0?r:n.zigzagOffset,s=bt(e,n=Object.assign({},n,{hachureGap:r+i}));return{type:"fillSketch",ops:this.zigzagLines(s,i,n)}}zigzagLines(e,n,r){const i=[];return e.forEach(s=>{const o=Ft(s),a=Math.round(o/(2*n));let c=s[0],u=s[1];c[0]>u[0]&&(c=s[1],u=s[0]);const h=Math.atan((u[1]-c[1])/(u[0]-c[0]));for(let f=0;f<a;f++){const l=2*f*n,d=2*(f+1)*n,p=Math.sqrt(2*Math.pow(n,2)),g=[c[0]+l*Math.cos(h),c[1]+l*Math.sin(h)],b=[c[0]+d*Math.cos(h),c[1]+d*Math.sin(h)],y=[g[0]+p*Math.cos(h+Math.PI/4),g[1]+p*Math.sin(h+Math.PI/4)];i.push(...this.helper.doubleLineOps(g[0],g[1],y[0],y[1],r),...this.helper.doubleLineOps(y[0],y[1],b[0],b[1],r))}}),i}}const C={};class ur{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const cr=0,Qt=1,Se=2,Mt={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function Yt(t,e){return t.type===e}function le(t){const e=[],n=function(o){const a=new Array;for(;o!=="";)if(o.match(/^([ \t\r\n,]+)/))o=o.substr(RegExp.$1.length);else if(o.match(/^([aAcChHlLmMqQsStTvVzZ])/))a[a.length]={type:cr,text:RegExp.$1},o=o.substr(RegExp.$1.length);else{if(!o.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];a[a.length]={type:Qt,text:`${parseFloat(RegExp.$1)}`},o=o.substr(RegExp.$1.length)}return a[a.length]={type:Se,text:""},a}(t);let r="BOD",i=0,s=n[i];for(;!Yt(s,Se);){let o=0;const a=[];if(r==="BOD"){if(s.text!=="M"&&s.text!=="m")return le("M0,0"+t);i++,o=Mt[s.text],r=s.text}else Yt(s,Qt)?o=Mt[r]:(i++,o=Mt[s.text],r=s.text);if(!(i+o<n.length))throw new Error("Path data ended short");for(let c=i;c<i+o;c++){const u=n[c];if(!Yt(u,Qt))throw new Error("Param not a number: "+r+","+u.text);a[a.length]=+u.text}if(typeof Mt[r]!="number")throw new Error("Bad segment: "+r);{const c={key:r,data:a};e.push(c),i+=o,s=n[i],r==="M"&&(r="L"),r==="m"&&(r="l")}}return e}function pn(t){let e=0,n=0,r=0,i=0;const s=[];for(const{key:o,data:a}of t)switch(o){case"M":s.push({key:"M",data:[...a]}),[e,n]=a,[r,i]=a;break;case"m":e+=a[0],n+=a[1],s.push({key:"M",data:[e,n]}),r=e,i=n;break;case"L":s.push({key:"L",data:[...a]}),[e,n]=a;break;case"l":e+=a[0],n+=a[1],s.push({key:"L",data:[e,n]});break;case"C":s.push({key:"C",data:[...a]}),e=a[4],n=a[5];break;case"c":{const c=a.map((u,h)=>h%2?u+n:u+e);s.push({key:"C",data:c}),e=c[4],n=c[5];break}case"Q":s.push({key:"Q",data:[...a]}),e=a[2],n=a[3];break;case"q":{const c=a.map((u,h)=>h%2?u+n:u+e);s.push({key:"Q",data:c}),e=c[2],n=c[3];break}case"A":s.push({key:"A",data:[...a]}),e=a[5],n=a[6];break;case"a":e+=a[5],n+=a[6],s.push({key:"A",data:[a[0],a[1],a[2],a[3],a[4],e,n]});break;case"H":s.push({key:"H",data:[...a]}),e=a[0];break;case"h":e+=a[0],s.push({key:"H",data:[e]});break;case"V":s.push({key:"V",data:[...a]}),n=a[0];break;case"v":n+=a[0],s.push({key:"V",data:[n]});break;case"S":s.push({key:"S",data:[...a]}),e=a[2],n=a[3];break;case"s":{const c=a.map((u,h)=>h%2?u+n:u+e);s.push({key:"S",data:c}),e=c[2],n=c[3];break}case"T":s.push({key:"T",data:[...a]}),e=a[0],n=a[1];break;case"t":e+=a[0],n+=a[1],s.push({key:"T",data:[e,n]});break;case"Z":case"z":s.push({key:"Z",data:[]}),e=r,n=i}return s}function gn(t){const e=[];let n="",r=0,i=0,s=0,o=0,a=0,c=0;for(const{key:u,data:h}of t){switch(u){case"M":e.push({key:"M",data:[...h]}),[r,i]=h,[s,o]=h;break;case"C":e.push({key:"C",data:[...h]}),r=h[4],i=h[5],a=h[2],c=h[3];break;case"L":e.push({key:"L",data:[...h]}),[r,i]=h;break;case"H":r=h[0],e.push({key:"L",data:[r,i]});break;case"V":i=h[0],e.push({key:"L",data:[r,i]});break;case"S":{let f=0,l=0;n==="C"||n==="S"?(f=r+(r-a),l=i+(i-c)):(f=r,l=i),e.push({key:"C",data:[f,l,...h]}),a=h[0],c=h[1],r=h[2],i=h[3];break}case"T":{const[f,l]=h;let d=0,p=0;n==="Q"||n==="T"?(d=r+(r-a),p=i+(i-c)):(d=r,p=i);const g=r+2*(d-r)/3,b=i+2*(p-i)/3,y=f+2*(d-f)/3,m=l+2*(p-l)/3;e.push({key:"C",data:[g,b,y,m,f,l]}),a=d,c=p,r=f,i=l;break}case"Q":{const[f,l,d,p]=h,g=r+2*(f-r)/3,b=i+2*(l-i)/3,y=d+2*(f-d)/3,m=p+2*(l-p)/3;e.push({key:"C",data:[g,b,y,m,d,p]}),a=f,c=l,r=d,i=p;break}case"A":{const f=Math.abs(h[0]),l=Math.abs(h[1]),d=h[2],p=h[3],g=h[4],b=h[5],y=h[6];f===0||l===0?(e.push({key:"C",data:[r,i,b,y,b,y]}),r=b,i=y):(r!==b||i!==y)&&(mn(r,i,b,y,f,l,d,p,g).forEach(function(m){e.push({key:"C",data:m})}),r=b,i=y);break}case"Z":e.push({key:"Z",data:[]}),r=s,i=o}n=u}return e}function st(t,e,n){return[t*Math.cos(n)-e*Math.sin(n),t*Math.sin(n)+e*Math.cos(n)]}function mn(t,e,n,r,i,s,o,a,c,u){const h=(f=o,Math.PI*f/180);var f;let l=[],d=0,p=0,g=0,b=0;if(u)[d,p,g,b]=u;else{[t,e]=st(t,e,-h),[n,r]=st(n,r,-h);const P=(t-n)/2,S=(e-r)/2;let T=P*P/(i*i)+S*S/(s*s);T>1&&(T=Math.sqrt(T),i*=T,s*=T);const I=i*i,R=s*s,Y=I*R-I*S*S-R*P*P,z=I*S*S+R*P*P,ye=(a===c?-1:1)*Math.sqrt(Math.abs(Y/z));g=ye*i*S/s+(t+n)/2,b=ye*-s*P/i+(e+r)/2,d=Math.asin(parseFloat(((e-b)/s).toFixed(9))),p=Math.asin(parseFloat(((r-b)/s).toFixed(9))),t<g&&(d=Math.PI-d),n<g&&(p=Math.PI-p),d<0&&(d=2*Math.PI+d),p<0&&(p=2*Math.PI+p),c&&d>p&&(d-=2*Math.PI),!c&&p>d&&(p-=2*Math.PI)}let y=p-d;if(Math.abs(y)>120*Math.PI/180){const P=p,S=n,T=r;p=c&&p>d?d+120*Math.PI/180*1:d+120*Math.PI/180*-1,l=mn(n=g+i*Math.cos(p),r=b+s*Math.sin(p),S,T,i,s,o,0,c,[p,P,g,b])}y=p-d;const m=Math.cos(d),x=Math.sin(d),$=Math.cos(p),k=Math.sin(p),v=Math.tan(y/4),_=4/3*i*v,A=4/3*s*v,Q=[t,e],N=[t+_*x,e-A*m],w=[n+_*k,r-A*$],W=[n,r];if(N[0]=2*Q[0]-N[0],N[1]=2*Q[1]-N[1],u)return[N,w,W].concat(l);{l=[N,w,W].concat(l);const P=[];for(let S=0;S<l.length;S+=3){const T=st(l[S][0],l[S][1],h),I=st(l[S+1][0],l[S+1][1],h),R=st(l[S+2][0],l[S+2][1],h);P.push([T[0],T[1],I[0],I[1],R[0],R[1]])}return P}}const hr={randOffset:function(t,e){return M(t,e)},randOffsetWithRange:function(t,e,n){return Lt(t,e,n)},ellipse:function(t,e,n,r,i){const s=yn(n,r,i);return ie(t,e,i,s).opset},doubleLineOps:function(t,e,n,r,i){return H(t,e,n,r,i,!0)}};function bn(t,e,n,r,i){return{type:"path",ops:H(t,e,n,r,i)}}function St(t,e,n){const r=(t||[]).length;if(r>2){const i=[];for(let s=0;s<r-1;s++)i.push(...H(t[s][0],t[s][1],t[s+1][0],t[s+1][1],n));return e&&i.push(...H(t[r-1][0],t[r-1][1],t[0][0],t[0][1],n)),{type:"path",ops:i}}return r===2?bn(t[0][0],t[0][1],t[1][0],t[1][1],n):{type:"path",ops:[]}}function fr(t,e,n,r,i){return function(s,o){return St(s,!0,o)}([[t,e],[t+n,e],[t+n,e+r],[t,e+r]],i)}function Ae(t,e){if(t.length){const n=typeof t[0][0]=="number"?[t]:t,r=wt(n[0],1*(1+.2*e.roughness),e),i=e.disableMultiStroke?[]:wt(n[0],1.5*(1+.22*e.roughness),Ce(e));for(let s=1;s<n.length;s++){const o=n[s];if(o.length){const a=wt(o,1*(1+.2*e.roughness),e),c=e.disableMultiStroke?[]:wt(o,1.5*(1+.22*e.roughness),Ce(e));for(const u of a)u.op!=="move"&&r.push(u);for(const u of c)u.op!=="move"&&i.push(u)}}return{type:"path",ops:r.concat(i)}}return{type:"path",ops:[]}}function yn(t,e,n){const r=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),i=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*r)),s=2*Math.PI/i;let o=Math.abs(t/2),a=Math.abs(e/2);const c=1-n.curveFitting;return o+=M(o*c,n),a+=M(a*c,n),{increment:s,rx:o,ry:a}}function ie(t,e,n,r){const[i,s]=Le(r.increment,t,e,r.rx,r.ry,1,r.increment*Lt(.1,Lt(.4,1,n),n),n);let o=Et(i,null,n);if(!n.disableMultiStroke&&n.roughness!==0){const[a]=Le(r.increment,t,e,r.rx,r.ry,1.5,0,n),c=Et(a,null,n);o=o.concat(c)}return{estimatedPoints:s,opset:{type:"path",ops:o}}}function Oe(t,e,n,r,i,s,o,a,c){const u=t,h=e;let f=Math.abs(n/2),l=Math.abs(r/2);f+=M(.01*f,c),l+=M(.01*l,c);let d=i,p=s;for(;d<0;)d+=2*Math.PI,p+=2*Math.PI;p-d>2*Math.PI&&(d=0,p=2*Math.PI);const g=2*Math.PI/c.curveStepCount,b=Math.min(g/2,(p-d)/2),y=Ee(b,u,h,f,l,d,p,1,c);if(!c.disableMultiStroke){const m=Ee(b,u,h,f,l,d,p,1.5,c);y.push(...m)}return o&&(a?y.push(...H(u,h,u+f*Math.cos(d),h+l*Math.sin(d),c),...H(u,h,u+f*Math.cos(p),h+l*Math.sin(p),c)):y.push({op:"lineTo",data:[u,h]},{op:"lineTo",data:[u+f*Math.cos(d),h+l*Math.sin(d)]})),{type:"path",ops:y}}function Ne(t,e){const n=gn(pn(le(t))),r=[];let i=[0,0],s=[0,0];for(const{key:o,data:a}of n)switch(o){case"M":s=[a[0],a[1]],i=[a[0],a[1]];break;case"L":r.push(...H(s[0],s[1],a[0],a[1],e)),s=[a[0],a[1]];break;case"C":{const[c,u,h,f,l,d]=a;r.push(...lr(c,u,h,f,l,d,s,e)),s=[l,d];break}case"Z":r.push(...H(s[0],s[1],i[0],i[1],e)),s=[i[0],i[1]]}return{type:"path",ops:r}}function Xt(t,e){const n=[];for(const r of t)if(r.length){const i=e.maxRandomnessOffset||0,s=r.length;if(s>2){n.push({op:"move",data:[r[0][0]+M(i,e),r[0][1]+M(i,e)]});for(let o=1;o<s;o++)n.push({op:"lineTo",data:[r[o][0]+M(i,e),r[o][1]+M(i,e)]})}}return{type:"fillPath",ops:n}}function J(t,e){return function(n,r){let i=n.fillStyle||"hachure";if(!C[i])switch(i){case"zigzag":C[i]||(C[i]=new rr(r));break;case"cross-hatch":C[i]||(C[i]=new ir(r));break;case"dots":C[i]||(C[i]=new sr(r));break;case"dashed":C[i]||(C[i]=new ar(r));break;case"zigzag-line":C[i]||(C[i]=new or(r));break;default:i="hachure",C[i]||(C[i]=new fe(r))}return C[i]}(e,hr).fillPolygons(t,e)}function Ce(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function xn(t){return t.randomizer||(t.randomizer=new ur(t.seed||0)),t.randomizer.next()}function Lt(t,e,n,r=1){return n.roughness*r*(xn(n)*(e-t)+t)}function M(t,e,n=1){return Lt(-t,t,e,n)}function H(t,e,n,r,i,s=!1){const o=s?i.disableMultiStrokeFill:i.disableMultiStroke,a=se(t,e,n,r,i,!0,!1);if(o)return a;const c=se(t,e,n,r,i,!0,!0);return a.concat(c)}function se(t,e,n,r,i,s,o){const a=Math.pow(t-n,2)+Math.pow(e-r,2),c=Math.sqrt(a);let u=1;u=c<200?1:c>500?.4:-.0016668*c+1.233334;let h=i.maxRandomnessOffset||0;h*h*100>a&&(h=c/10);const f=h/2,l=.2+.2*xn(i);let d=i.bowing*i.maxRandomnessOffset*(r-e)/200,p=i.bowing*i.maxRandomnessOffset*(t-n)/200;d=M(d,i,u),p=M(p,i,u);const g=[],b=()=>M(f,i,u),y=()=>M(h,i,u),m=i.preserveVertices;return s&&(o?g.push({op:"move",data:[t+(m?0:b()),e+(m?0:b())]}):g.push({op:"move",data:[t+(m?0:M(h,i,u)),e+(m?0:M(h,i,u))]})),o?g.push({op:"bcurveTo",data:[d+t+(n-t)*l+b(),p+e+(r-e)*l+b(),d+t+2*(n-t)*l+b(),p+e+2*(r-e)*l+b(),n+(m?0:b()),r+(m?0:b())]}):g.push({op:"bcurveTo",data:[d+t+(n-t)*l+y(),p+e+(r-e)*l+y(),d+t+2*(n-t)*l+y(),p+e+2*(r-e)*l+y(),n+(m?0:y()),r+(m?0:y())]}),g}function wt(t,e,n){if(!t.length)return[];const r=[];r.push([t[0][0]+M(e,n),t[0][1]+M(e,n)]),r.push([t[0][0]+M(e,n),t[0][1]+M(e,n)]);for(let i=1;i<t.length;i++)r.push([t[i][0]+M(e,n),t[i][1]+M(e,n)]),i===t.length-1&&r.push([t[i][0]+M(e,n),t[i][1]+M(e,n)]);return Et(r,null,n)}function Et(t,e,n){const r=t.length,i=[];if(r>3){const s=[],o=1-n.curveTightness;i.push({op:"move",data:[t[1][0],t[1][1]]});for(let a=1;a+2<r;a++){const c=t[a];s[0]=[c[0],c[1]],s[1]=[c[0]+(o*t[a+1][0]-o*t[a-1][0])/6,c[1]+(o*t[a+1][1]-o*t[a-1][1])/6],s[2]=[t[a+1][0]+(o*t[a][0]-o*t[a+2][0])/6,t[a+1][1]+(o*t[a][1]-o*t[a+2][1])/6],s[3]=[t[a+1][0],t[a+1][1]],i.push({op:"bcurveTo",data:[s[1][0],s[1][1],s[2][0],s[2][1],s[3][0],s[3][1]]})}if(e&&e.length===2){const a=n.maxRandomnessOffset;i.push({op:"lineTo",data:[e[0]+M(a,n),e[1]+M(a,n)]})}}else r===3?(i.push({op:"move",data:[t[1][0],t[1][1]]}),i.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):r===2&&i.push(...se(t[0][0],t[0][1],t[1][0],t[1][1],n,!0,!0));return i}function Le(t,e,n,r,i,s,o,a){const c=[],u=[];if(a.roughness===0){t/=4,u.push([e+r*Math.cos(-t),n+i*Math.sin(-t)]);for(let h=0;h<=2*Math.PI;h+=t){const f=[e+r*Math.cos(h),n+i*Math.sin(h)];c.push(f),u.push(f)}u.push([e+r*Math.cos(0),n+i*Math.sin(0)]),u.push([e+r*Math.cos(t),n+i*Math.sin(t)])}else{const h=M(.5,a)-Math.PI/2;u.push([M(s,a)+e+.9*r*Math.cos(h-t),M(s,a)+n+.9*i*Math.sin(h-t)]);const f=2*Math.PI+h-.01;for(let l=h;l<f;l+=t){const d=[M(s,a)+e+r*Math.cos(l),M(s,a)+n+i*Math.sin(l)];c.push(d),u.push(d)}u.push([M(s,a)+e+r*Math.cos(h+2*Math.PI+.5*o),M(s,a)+n+i*Math.sin(h+2*Math.PI+.5*o)]),u.push([M(s,a)+e+.98*r*Math.cos(h+o),M(s,a)+n+.98*i*Math.sin(h+o)]),u.push([M(s,a)+e+.9*r*Math.cos(h+.5*o),M(s,a)+n+.9*i*Math.sin(h+.5*o)])}return[u,c]}function Ee(t,e,n,r,i,s,o,a,c){const u=s+M(.1,c),h=[];h.push([M(a,c)+e+.9*r*Math.cos(u-t),M(a,c)+n+.9*i*Math.sin(u-t)]);for(let f=u;f<=o;f+=t)h.push([M(a,c)+e+r*Math.cos(f),M(a,c)+n+i*Math.sin(f)]);return h.push([e+r*Math.cos(o),n+i*Math.sin(o)]),h.push([e+r*Math.cos(o),n+i*Math.sin(o)]),Et(h,null,c)}function lr(t,e,n,r,i,s,o,a){const c=[],u=[a.maxRandomnessOffset||1,(a.maxRandomnessOffset||1)+.3];let h=[0,0];const f=a.disableMultiStroke?1:2,l=a.preserveVertices;for(let d=0;d<f;d++)d===0?c.push({op:"move",data:[o[0],o[1]]}):c.push({op:"move",data:[o[0]+(l?0:M(u[0],a)),o[1]+(l?0:M(u[0],a))]}),h=l?[i,s]:[i+M(u[d],a),s+M(u[d],a)],c.push({op:"bcurveTo",data:[t+M(u[d],a),e+M(u[d],a),n+M(u[d],a),r+M(u[d],a),h[0],h[1]]});return c}function at(t){return[...t]}function Te(t,e=0){const n=t.length;if(n<3)throw new Error("A curve must have at least three points.");const r=[];if(n===3)r.push(at(t[0]),at(t[1]),at(t[2]),at(t[2]));else{const i=[];i.push(t[0],t[0]);for(let a=1;a<t.length;a++)i.push(t[a]),a===t.length-1&&i.push(t[a]);const s=[],o=1-e;r.push(at(i[0]));for(let a=1;a+2<i.length;a++){const c=i[a];s[0]=[c[0],c[1]],s[1]=[c[0]+(o*i[a+1][0]-o*i[a-1][0])/6,c[1]+(o*i[a+1][1]-o*i[a-1][1])/6],s[2]=[i[a+1][0]+(o*i[a][0]-o*i[a+2][0])/6,i[a+1][1]+(o*i[a][1]-o*i[a+2][1])/6],s[3]=[i[a+1][0],i[a+1][1]],r.push(s[1],s[2],s[3])}}return r}function At(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function dr(t,e,n){const r=At(e,n);if(r===0)return At(t,e);let i=((t[0]-e[0])*(n[0]-e[0])+(t[1]-e[1])*(n[1]-e[1]))/r;return i=Math.max(0,Math.min(1,i)),At(t,G(e,n,i))}function G(t,e,n){return[t[0]+(e[0]-t[0])*n,t[1]+(e[1]-t[1])*n]}function ae(t,e,n,r){const i=r||[];if(function(a,c){const u=a[c+0],h=a[c+1],f=a[c+2],l=a[c+3];let d=3*h[0]-2*u[0]-l[0];d*=d;let p=3*h[1]-2*u[1]-l[1];p*=p;let g=3*f[0]-2*l[0]-u[0];g*=g;let b=3*f[1]-2*l[1]-u[1];return b*=b,d<g&&(d=g),p<b&&(p=b),d+p}(t,e)<n){const a=t[e+0];i.length?(s=i[i.length-1],o=a,Math.sqrt(At(s,o))>1&&i.push(a)):i.push(a),i.push(t[e+3])}else{const c=t[e+0],u=t[e+1],h=t[e+2],f=t[e+3],l=G(c,u,.5),d=G(u,h,.5),p=G(h,f,.5),g=G(l,d,.5),b=G(d,p,.5),y=G(g,b,.5);ae([c,l,g,y],0,n,i),ae([y,b,p,f],0,n,i)}var s,o;return i}function pr(t,e){return Tt(t,0,t.length,e)}function Tt(t,e,n,r,i){const s=i||[],o=t[e],a=t[n-1];let c=0,u=1;for(let h=e+1;h<n-1;++h){const f=dr(t[h],o,a);f>c&&(c=f,u=h)}return Math.sqrt(c)>r?(Tt(t,e,u+1,r,s),Tt(t,u,n,r,s)):(s.length||s.push(o),s.push(a)),s}function Jt(t,e=.15,n){const r=[],i=(t.length-1)/3;for(let s=0;s<i;s++)ae(t,3*s,e,r);return n&&n>0?Tt(r,0,r.length,n):r}const D="none";class Dt{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,n,r){return{shape:e,sets:n||[],options:r||this.defaultOptions}}line(e,n,r,i,s){const o=this._o(s);return this._d("line",[bn(e,n,r,i,o)],o)}rectangle(e,n,r,i,s){const o=this._o(s),a=[],c=fr(e,n,r,i,o);if(o.fill){const u=[[e,n],[e+r,n],[e+r,n+i],[e,n+i]];o.fillStyle==="solid"?a.push(Xt([u],o)):a.push(J([u],o))}return o.stroke!==D&&a.push(c),this._d("rectangle",a,o)}ellipse(e,n,r,i,s){const o=this._o(s),a=[],c=yn(r,i,o),u=ie(e,n,o,c);if(o.fill)if(o.fillStyle==="solid"){const h=ie(e,n,o,c).opset;h.type="fillPath",a.push(h)}else a.push(J([u.estimatedPoints],o));return o.stroke!==D&&a.push(u.opset),this._d("ellipse",a,o)}circle(e,n,r,i){const s=this.ellipse(e,n,r,r,i);return s.shape="circle",s}linearPath(e,n){const r=this._o(n);return this._d("linearPath",[St(e,!1,r)],r)}arc(e,n,r,i,s,o,a=!1,c){const u=this._o(c),h=[],f=Oe(e,n,r,i,s,o,a,!0,u);if(a&&u.fill)if(u.fillStyle==="solid"){const l=Object.assign({},u);l.disableMultiStroke=!0;const d=Oe(e,n,r,i,s,o,!0,!1,l);d.type="fillPath",h.push(d)}else h.push(function(l,d,p,g,b,y,m){const x=l,$=d;let k=Math.abs(p/2),v=Math.abs(g/2);k+=M(.01*k,m),v+=M(.01*v,m);let _=b,A=y;for(;_<0;)_+=2*Math.PI,A+=2*Math.PI;A-_>2*Math.PI&&(_=0,A=2*Math.PI);const Q=(A-_)/m.curveStepCount,N=[];for(let w=_;w<=A;w+=Q)N.push([x+k*Math.cos(w),$+v*Math.sin(w)]);return N.push([x+k*Math.cos(A),$+v*Math.sin(A)]),N.push([x,$]),J([N],m)}(e,n,r,i,s,o,u));return u.stroke!==D&&h.push(f),this._d("arc",h,u)}curve(e,n){const r=this._o(n),i=[],s=Ae(e,r);if(r.fill&&r.fill!==D)if(r.fillStyle==="solid"){const o=Ae(e,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(o.ops)})}else{const o=[],a=e;if(a.length){const c=typeof a[0][0]=="number"?[a]:a;for(const u of c)u.length<3?o.push(...u):u.length===3?o.push(...Jt(Te([u[0],u[0],u[1],u[2]]),10,(1+r.roughness)/2)):o.push(...Jt(Te(u),10,(1+r.roughness)/2))}o.length&&i.push(J([o],r))}return r.stroke!==D&&i.push(s),this._d("curve",i,r)}polygon(e,n){const r=this._o(n),i=[],s=St(e,!0,r);return r.fill&&(r.fillStyle==="solid"?i.push(Xt([e],r)):i.push(J([e],r))),r.stroke!==D&&i.push(s),this._d("polygon",i,r)}path(e,n){const r=this._o(n),i=[];if(!e)return this._d("path",i,r);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const s=r.fill&&r.fill!=="transparent"&&r.fill!==D,o=r.stroke!==D,a=!!(r.simplification&&r.simplification<1),c=function(h,f,l){const d=gn(pn(le(h))),p=[];let g=[],b=[0,0],y=[];const m=()=>{y.length>=4&&g.push(...Jt(y,f)),y=[]},x=()=>{m(),g.length&&(p.push(g),g=[])};for(const{key:k,data:v}of d)switch(k){case"M":x(),b=[v[0],v[1]],g.push(b);break;case"L":m(),g.push([v[0],v[1]]);break;case"C":if(!y.length){const _=g.length?g[g.length-1]:b;y.push([_[0],_[1]])}y.push([v[0],v[1]]),y.push([v[2],v[3]]),y.push([v[4],v[5]]);break;case"Z":m(),g.push([b[0],b[1]])}if(x(),!l)return p;const $=[];for(const k of p){const v=pr(k,l);v.length&&$.push(v)}return $}(e,1,a?4-4*(r.simplification||1):(1+r.roughness)/2),u=Ne(e,r);if(s)if(r.fillStyle==="solid")if(c.length===1){const h=Ne(e,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(h.ops)})}else i.push(Xt(c,r));else i.push(J(c,r));return o&&(a?c.forEach(h=>{i.push(St(h,!1,r))}):i.push(u)),this._d("path",i,r)}opsToPath(e,n){let r="";for(const i of e.ops){const s=typeof n=="number"&&n>=0?i.data.map(o=>+o.toFixed(n)):i.data;switch(i.op){case"move":r+=`M${s[0]} ${s[1]} `;break;case"bcurveTo":r+=`C${s[0]} ${s[1]}, ${s[2]} ${s[3]}, ${s[4]} ${s[5]} `;break;case"lineTo":r+=`L${s[0]} ${s[1]} `}}return r.trim()}toPaths(e){const n=e.sets||[],r=e.options||this.defaultOptions,i=[];for(const s of n){let o=null;switch(s.type){case"path":o={d:this.opsToPath(s),stroke:r.stroke,strokeWidth:r.strokeWidth,fill:D};break;case"fillPath":o={d:this.opsToPath(s),stroke:D,strokeWidth:0,fill:r.fill||D};break;case"fillSketch":o=this.fillSketch(s,r)}o&&i.push(o)}return i}fillSketch(e,n){let r=n.fillWeight;return r<0&&(r=n.strokeWidth/2),{d:this.opsToPath(e),stroke:n.fill||D,strokeWidth:r,fill:D}}_mergedShape(e){return e.filter((n,r)=>r===0||n.op!=="move")}}class gr{constructor(e,n){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new Dt(n)}draw(e){const n=e.sets||[],r=e.options||this.getDefaultOptions(),i=this.ctx,s=e.options.fixedDecimalPlaceDigits;for(const o of n)switch(o.type){case"path":i.save(),i.strokeStyle=r.stroke==="none"?"transparent":r.stroke,i.lineWidth=r.strokeWidth,r.strokeLineDash&&i.setLineDash(r.strokeLineDash),r.strokeLineDashOffset&&(i.lineDashOffset=r.strokeLineDashOffset),this._drawToContext(i,o,s),i.restore();break;case"fillPath":{i.save(),i.fillStyle=r.fill||"";const a=e.shape==="curve"||e.shape==="polygon"||e.shape==="path"?"evenodd":"nonzero";this._drawToContext(i,o,s,a),i.restore();break}case"fillSketch":this.fillSketch(i,o,r)}}fillSketch(e,n,r){let i=r.fillWeight;i<0&&(i=r.strokeWidth/2),e.save(),r.fillLineDash&&e.setLineDash(r.fillLineDash),r.fillLineDashOffset&&(e.lineDashOffset=r.fillLineDashOffset),e.strokeStyle=r.fill||"",e.lineWidth=i,this._drawToContext(e,n,r.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,n,r,i="nonzero"){e.beginPath();for(const s of n.ops){const o=typeof r=="number"&&r>=0?s.data.map(a=>+a.toFixed(r)):s.data;switch(s.op){case"move":e.moveTo(o[0],o[1]);break;case"bcurveTo":e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"lineTo":e.lineTo(o[0],o[1])}}n.type==="fillPath"?e.fill(i):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,n,r,i,s){const o=this.gen.line(e,n,r,i,s);return this.draw(o),o}rectangle(e,n,r,i,s){const o=this.gen.rectangle(e,n,r,i,s);return this.draw(o),o}ellipse(e,n,r,i,s){const o=this.gen.ellipse(e,n,r,i,s);return this.draw(o),o}circle(e,n,r,i){const s=this.gen.circle(e,n,r,i);return this.draw(s),s}linearPath(e,n){const r=this.gen.linearPath(e,n);return this.draw(r),r}polygon(e,n){const r=this.gen.polygon(e,n);return this.draw(r),r}arc(e,n,r,i,s,o,a=!1,c){const u=this.gen.arc(e,n,r,i,s,o,a,c);return this.draw(u),u}curve(e,n){const r=this.gen.curve(e,n);return this.draw(r),r}path(e,n){const r=this.gen.path(e,n);return this.draw(r),r}}const kt="http://www.w3.org/2000/svg";class mr{constructor(e,n){this.svg=e,this.gen=new Dt(n)}draw(e){const n=e.sets||[],r=e.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,s=i.createElementNS(kt,"g"),o=e.options.fixedDecimalPlaceDigits;for(const a of n){let c=null;switch(a.type){case"path":c=i.createElementNS(kt,"path"),c.setAttribute("d",this.opsToPath(a,o)),c.setAttribute("stroke",r.stroke),c.setAttribute("stroke-width",r.strokeWidth+""),c.setAttribute("fill","none"),r.strokeLineDash&&c.setAttribute("stroke-dasharray",r.strokeLineDash.join(" ").trim()),r.strokeLineDashOffset&&c.setAttribute("stroke-dashoffset",`${r.strokeLineDashOffset}`);break;case"fillPath":c=i.createElementNS(kt,"path"),c.setAttribute("d",this.opsToPath(a,o)),c.setAttribute("stroke","none"),c.setAttribute("stroke-width","0"),c.setAttribute("fill",r.fill||""),e.shape!=="curve"&&e.shape!=="polygon"||c.setAttribute("fill-rule","evenodd");break;case"fillSketch":c=this.fillSketch(i,a,r)}c&&s.appendChild(c)}return s}fillSketch(e,n,r){let i=r.fillWeight;i<0&&(i=r.strokeWidth/2);const s=e.createElementNS(kt,"path");return s.setAttribute("d",this.opsToPath(n,r.fixedDecimalPlaceDigits)),s.setAttribute("stroke",r.fill||""),s.setAttribute("stroke-width",i+""),s.setAttribute("fill","none"),r.fillLineDash&&s.setAttribute("stroke-dasharray",r.fillLineDash.join(" ").trim()),r.fillLineDashOffset&&s.setAttribute("stroke-dashoffset",`${r.fillLineDashOffset}`),s}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,n){return this.gen.opsToPath(e,n)}line(e,n,r,i,s){const o=this.gen.line(e,n,r,i,s);return this.draw(o)}rectangle(e,n,r,i,s){const o=this.gen.rectangle(e,n,r,i,s);return this.draw(o)}ellipse(e,n,r,i,s){const o=this.gen.ellipse(e,n,r,i,s);return this.draw(o)}circle(e,n,r,i){const s=this.gen.circle(e,n,r,i);return this.draw(s)}linearPath(e,n){const r=this.gen.linearPath(e,n);return this.draw(r)}polygon(e,n){const r=this.gen.polygon(e,n);return this.draw(r)}arc(e,n,r,i,s,o,a=!1,c){const u=this.gen.arc(e,n,r,i,s,o,a,c);return this.draw(u)}curve(e,n){const r=this.gen.curve(e,n);return this.draw(r)}path(e,n){const r=this.gen.path(e,n);return this.draw(r)}}var br={canvas:(t,e)=>new gr(t,e),svg:(t,e)=>new mr(t,e),generator:t=>new Dt(t),newSeed:()=>Dt.newSeed()};function Ot(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function yr(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Mn(t){let e,n,r;t.length!==2?(e=Ot,n=(a,c)=>Ot(t(a),c),r=(a,c)=>t(a)-c):(e=t===Ot||t===yr?t:xr,n=t,r=t);function i(a,c,u=0,h=a.length){if(u<h){if(e(c,c)!==0)return h;do{const f=u+h>>>1;n(a[f],c)<0?u=f+1:h=f}while(u<h)}return u}function s(a,c,u=0,h=a.length){if(u<h){if(e(c,c)!==0)return h;do{const f=u+h>>>1;n(a[f],c)<=0?u=f+1:h=f}while(u<h)}return u}function o(a,c,u=0,h=a.length){const f=i(a,c,u,h-1);return f>u&&r(a[f-1],c)>-r(a[f],c)?f-1:f}return{left:i,center:o,right:s}}function xr(){return 0}function Mr(t){return t===null?NaN:+t}const wr=Mn(Ot),kr=wr.right;Mn(Mr).center;const vr=kr;class De extends Map{constructor(e,n=Pr){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Ie(this,e))}has(e){return super.has(Ie(this,e))}set(e,n){return super.set(_r(this,e),n)}delete(e){return super.delete($r(this,e))}}function Ie({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function _r({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function $r({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Pr(t){return t!==null&&typeof t=="object"?t.valueOf():t}const Sr=Math.sqrt(50),Ar=Math.sqrt(10),Or=Math.sqrt(2);function It(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=Sr?10:s>=Ar?5:s>=Or?2:1;let a,c,u;return i<0?(u=Math.pow(10,-i)/o,a=Math.round(t*u),c=Math.round(e*u),a/u<t&&++a,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*o,a=Math.round(t/u),c=Math.round(e/u),a*u<t&&++a,c*u>e&&--c),c<a&&.5<=n&&n<2?It(t,e,n*2):[a,c,u]}function Nr(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?It(e,t,n):It(t,e,n);if(!(s>=i))return[];const a=s-i+1,c=new Array(a);if(r)if(o<0)for(let u=0;u<a;++u)c[u]=(s-u)/-o;else for(let u=0;u<a;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<a;++u)c[u]=(i+u)/-o;else for(let u=0;u<a;++u)c[u]=(i+u)*o;return c}function oe(t,e,n){return e=+e,t=+t,n=+n,It(t,e,n)[2]}function Cr(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?oe(e,t,n):oe(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Lr(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Er(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function de(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const Re=Symbol("implicit");function wn(){var t=new De,e=[],n=[],r=Re;function i(s){let o=t.get(s);if(o===void 0){if(r!==Re)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new De;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return wn(e,n).unknown(r)},de.apply(i,arguments),i}function kn(){var t=wn().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,o,a=!1,c=0,u=0,h=.5;delete t.unknown;function f(){var l=e().length,d=i<r,p=d?i:r,g=d?r:i;s=(g-p)/Math.max(1,l-c+u*2),a&&(s=Math.floor(s)),p+=(g-p-s*(l-c))*h,o=s*(1-c),a&&(p=Math.round(p),o=Math.round(o));var b=Er(l).map(function(y){return p+s*y});return n(d?b.reverse():b)}return t.domain=function(l){return arguments.length?(e(l),f()):e()},t.range=function(l){return arguments.length?([r,i]=l,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(l){return[r,i]=l,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(l){return arguments.length?(a=!!l,f()):a},t.padding=function(l){return arguments.length?(c=Math.min(1,u=+l),f()):c},t.paddingInner=function(l){return arguments.length?(c=Math.min(1,l),f()):c},t.paddingOuter=function(l){return arguments.length?(u=+l,f()):u},t.align=function(l){return arguments.length?(h=Math.max(0,Math.min(1,l)),f()):h},t.copy=function(){return kn(e(),[r,i]).round(a).paddingInner(c).paddingOuter(u).align(h)},de.apply(f(),arguments)}function pe(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function vn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function yt(){}var dt=.7,Rt=1/dt,nt="\\s*([+-]?\\d+)\\s*",pt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",q="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Tr=/^#([0-9a-f]{3,8})$/,Dr=new RegExp(`^rgb\\(${nt},${nt},${nt}\\)$`),Ir=new RegExp(`^rgb\\(${q},${q},${q}\\)$`),Rr=new RegExp(`^rgba\\(${nt},${nt},${nt},${pt}\\)$`),zr=new RegExp(`^rgba\\(${q},${q},${q},${pt}\\)$`),jr=new RegExp(`^hsl\\(${pt},${q},${q}\\)$`),Wr=new RegExp(`^hsla\\(${pt},${q},${q},${pt}\\)$`),ze={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pe(yt,gt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:je,formatHex:je,formatHex8:qr,formatHsl:Fr,formatRgb:We,toString:We});function je(){return this.rgb().formatHex()}function qr(){return this.rgb().formatHex8()}function Fr(){return _n(this).formatHsl()}function We(){return this.rgb().formatRgb()}function gt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Tr.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?qe(e):n===3?new E(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?vt(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?vt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Dr.exec(t))?new E(e[1],e[2],e[3],1):(e=Ir.exec(t))?new E(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Rr.exec(t))?vt(e[1],e[2],e[3],e[4]):(e=zr.exec(t))?vt(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=jr.exec(t))?Ge(e[1],e[2]/100,e[3]/100,1):(e=Wr.exec(t))?Ge(e[1],e[2]/100,e[3]/100,e[4]):ze.hasOwnProperty(t)?qe(ze[t]):t==="transparent"?new E(NaN,NaN,NaN,0):null}function qe(t){return new E(t>>16&255,t>>8&255,t&255,1)}function vt(t,e,n,r){return r<=0&&(t=e=n=NaN),new E(t,e,n,r)}function Hr(t){return t instanceof yt||(t=gt(t)),t?(t=t.rgb(),new E(t.r,t.g,t.b,t.opacity)):new E}function ue(t,e,n,r){return arguments.length===1?Hr(t):new E(t,e,n,r??1)}function E(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}pe(E,ue,vn(yt,{brighter(t){return t=t==null?Rt:Math.pow(Rt,t),new E(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?dt:Math.pow(dt,t),new E(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new E(Z(this.r),Z(this.g),Z(this.b),zt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Fe,formatHex:Fe,formatHex8:Gr,formatRgb:He,toString:He}));function Fe(){return`#${V(this.r)}${V(this.g)}${V(this.b)}`}function Gr(){return`#${V(this.r)}${V(this.g)}${V(this.b)}${V((isNaN(this.opacity)?1:this.opacity)*255)}`}function He(){const t=zt(this.opacity);return`${t===1?"rgb(":"rgba("}${Z(this.r)}, ${Z(this.g)}, ${Z(this.b)}${t===1?")":`, ${t})`}`}function zt(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Z(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function V(t){return t=Z(t),(t<16?"0":"")+t.toString(16)}function Ge(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new j(t,e,n,r)}function _n(t){if(t instanceof j)return new j(t.h,t.s,t.l,t.opacity);if(t instanceof yt||(t=gt(t)),!t)return new j;if(t instanceof j)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,c=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=c<.5?s+i:2-s-i,o*=60):a=c>0&&c<1?0:o,new j(o,a,c,t.opacity)}function Br(t,e,n,r){return arguments.length===1?_n(t):new j(t,e,n,r??1)}function j(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}pe(j,Br,vn(yt,{brighter(t){return t=t==null?Rt:Math.pow(Rt,t),new j(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?dt:Math.pow(dt,t),new j(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new E(Kt(t>=240?t-240:t+120,i,r),Kt(t,i,r),Kt(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new j(Be(this.h),_t(this.s),_t(this.l),zt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=zt(this.opacity);return`${t===1?"hsl(":"hsla("}${Be(this.h)}, ${_t(this.s)*100}%, ${_t(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Be(t){return t=(t||0)%360,t<0?t+360:t}function _t(t){return Math.max(0,Math.min(1,t||0))}function Kt(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ge=t=>()=>t;function Vr(t,e){return function(n){return t+n*e}}function Ur(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Zr(t){return(t=+t)==1?$n:function(e,n){return n-e?Ur(e,n,t):ge(isNaN(e)?n:e)}}function $n(t,e){var n=e-t;return n?Vr(t,n):ge(isNaN(t)?e:t)}const Ve=function t(e){var n=Zr(e);function r(i,s){var o=n((i=ue(i)).r,(s=ue(s)).r),a=n(i.g,s.g),c=n(i.b,s.b),u=$n(i.opacity,s.opacity);return function(h){return i.r=o(h),i.g=a(h),i.b=c(h),i.opacity=u(h),i+""}}return r.gamma=t,r}(1);function Qr(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function Yr(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Xr(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=me(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function Jr(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function jt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Kr(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=me(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var ce=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,te=new RegExp(ce.source,"g");function ti(t){return function(){return t}}function ei(t){return function(e){return t(e)+""}}function ni(t,e){var n=ce.lastIndex=te.lastIndex=0,r,i,s,o=-1,a=[],c=[];for(t=t+"",e=e+"";(r=ce.exec(t))&&(i=te.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,c.push({i:o,x:jt(r,i)})),n=te.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?c[0]?ei(c[0].x):ti(e):(e=c.length,function(u){for(var h=0,f;h<e;++h)a[(f=c[h]).i]=f.x(u);return a.join("")})}function me(t,e){var n=typeof e,r;return e==null||n==="boolean"?ge(e):(n==="number"?jt:n==="string"?(r=gt(e))?(e=r,Ve):ni:e instanceof gt?Ve:e instanceof Date?Jr:Yr(e)?Qr:Array.isArray(e)?Xr:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Kr:jt)(t,e)}function ri(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function ii(t){return function(){return t}}function si(t){return+t}var Ue=[0,1];function tt(t){return t}function he(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:ii(isNaN(e)?NaN:.5)}function ai(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function oi(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=he(i,r),s=n(o,s)):(r=he(r,i),s=n(s,o)),function(a){return s(r(a))}}function ui(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=he(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(a){var c=vr(t,a,1,r)-1;return s[c](i[c](a))}}function ci(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function hi(){var t=Ue,e=Ue,n=me,r,i,s,o=tt,a,c,u;function h(){var l=Math.min(t.length,e.length);return o!==tt&&(o=ai(t[0],t[l-1])),a=l>2?ui:oi,c=u=null,f}function f(l){return l==null||isNaN(l=+l)?s:(c||(c=a(t.map(r),e,n)))(r(o(l)))}return f.invert=function(l){return o(i((u||(u=a(e,t.map(r),jt)))(l)))},f.domain=function(l){return arguments.length?(t=Array.from(l,si),h()):t.slice()},f.range=function(l){return arguments.length?(e=Array.from(l),h()):e.slice()},f.rangeRound=function(l){return e=Array.from(l),n=ri,h()},f.clamp=function(l){return arguments.length?(o=l?!0:tt,h()):o!==tt},f.interpolate=function(l){return arguments.length?(n=l,h()):n},f.unknown=function(l){return arguments.length?(s=l,f):s},function(l,d){return r=l,i=d,h()}}function fi(){return hi()(tt,tt)}function li(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Wt(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function rt(t){return t=Wt(Math.abs(t)),t?t[1]:NaN}function di(t,e){return function(n,r){for(var i=n.length,s=[],o=0,a=t[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),s.push(n.substring(i-=a,i+a)),!((c+=a+1)>r));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}function pi(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var gi=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qt(t){if(!(e=gi.exec(t)))throw new Error("invalid format: "+t);var e;return new be({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}qt.prototype=be.prototype;function be(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}be.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function mi(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Pn;function bi(t,e){var n=Wt(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(Pn=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Wt(t,Math.max(0,e+s-1))[0]}function Ze(t,e){var n=Wt(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Qe={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:li,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ze(t*100,e),r:Ze,s:bi,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ye(t){return t}var Xe=Array.prototype.map,Je=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function yi(t){var e=t.grouping===void 0||t.thousands===void 0?Ye:di(Xe.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?Ye:pi(Xe.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=qt(f);var l=f.fill,d=f.align,p=f.sign,g=f.symbol,b=f.zero,y=f.width,m=f.comma,x=f.precision,$=f.trim,k=f.type;k==="n"?(m=!0,k="g"):Qe[k]||(x===void 0&&(x=12),$=!0,k="g"),(b||l==="0"&&d==="=")&&(b=!0,l="0",d="=");var v=g==="$"?n:g==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",_=g==="$"?r:/[%p]/.test(k)?o:"",A=Qe[k],Q=/[defgprs%]/.test(k);x=x===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function N(w){var W=v,P=_,S,T,I;if(k==="c")P=A(w)+P,w="";else{w=+w;var R=w<0||1/w<0;if(w=isNaN(w)?c:A(Math.abs(w),x),$&&(w=mi(w)),R&&+w==0&&p!=="+"&&(R=!1),W=(R?p==="("?p:a:p==="-"||p==="("?"":p)+W,P=(k==="s"?Je[8+Pn/3]:"")+P+(R&&p==="("?")":""),Q){for(S=-1,T=w.length;++S<T;)if(I=w.charCodeAt(S),48>I||I>57){P=(I===46?i+w.slice(S+1):w.slice(S))+P,w=w.slice(0,S);break}}}m&&!b&&(w=e(w,1/0));var Y=W.length+w.length+P.length,z=Y<y?new Array(y-Y+1).join(l):"";switch(m&&b&&(w=e(z+w,z.length?y-P.length:1/0),z=""),d){case"<":w=W+w+P+z;break;case"=":w=W+z+w+P;break;case"^":w=z.slice(0,Y=z.length>>1)+W+w+P+z.slice(Y);break;default:w=z+W+w+P;break}return s(w)}return N.toString=function(){return f+""},N}function h(f,l){var d=u((f=qt(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(rt(l)/3)))*3,g=Math.pow(10,-p),b=Je[8+p/3];return function(y){return d(g*y)+b}}return{format:u,formatPrefix:h}}var $t,Sn,An;xi({thousands:",",grouping:[3],currency:["$",""]});function xi(t){return $t=yi(t),Sn=$t.format,An=$t.formatPrefix,$t}function Mi(t){return Math.max(0,-rt(Math.abs(t)))}function wi(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(rt(e)/3)))*3-rt(Math.abs(t)))}function ki(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,rt(e)-rt(t))+1}function vi(t,e,n,r){var i=Cr(t,e,n),s;switch(r=qt(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=wi(i,o))&&(r.precision=s),An(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=ki(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Mi(i))&&(r.precision=s-(r.type==="%")*2);break}}return Sn(r)}function _i(t){var e=t.domain;return t.ticks=function(n){var r=e();return Nr(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return vi(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],a=r[s],c,u,h=10;for(a<o&&(u=o,o=a,a=u,u=i,i=s,s=u);h-- >0;){if(u=oe(o,a,n),u===c)return r[i]=o,r[s]=a,e(r);if(u>0)o=Math.floor(o/u)*u,a=Math.ceil(a/u)*u;else if(u<0)o=Math.ceil(o*u)/u,a=Math.floor(a*u)/u;else break;c=u}return t},t}function On(){var t=fi();return t.copy=function(){return ci(t,On())},de.apply(t,arguments),_i(t)}function Ke(t,e,n){const r=t.slice();return r[16]=e[n],r[18]=n,r}function tn(t){let e,n,r=t[16].Date+"",i,s,o=t[3](t[16],t[0],t[18],t[5])+"",a;return{c(){e=Nt("g"),n=Nt("text"),i=ee(r),a=ee(o),O(n,"text-anchor","end"),O(n,"x","35"),O(n,"y",s=t[2](t[16].Date)+t[2].bandwidth()/2),O(n,"dy",Cn/5),O(n,"class","svelte-8tbnc6"),O(e,"class","axis-y"),O(e,"dy","100")},m(c,u){ot(c,e,u),F(e,n),F(n,i),F(e,a)},p(c,u){u&1&&r!==(r=c[16].Date+"")&&we(i,r),u&5&&s!==(s=c[2](c[16].Date)+c[2].bandwidth()/2)&&O(n,"y",s),u&9&&o!==(o=c[3](c[16],c[0],c[18],c[5])+"")&&we(a,o)},d(c){c&&U(e)}}}function $i(t){let e,n,r,i,s,o,a=_e(t[0]),c=[];for(let u=0;u<a.length;u+=1)c[u]=tn(Ke(t,a,u));return{c(){e=ft("div"),n=ft("h2"),n.textContent="Acres of land owned by Blacks in Georgia.",r=an(),i=Nt("svg"),s=Nt("g");for(let u=0;u<c.length;u+=1)c[u].c();O(n,"id","viz-header"),O(n,"class","svelte-8tbnc6"),O(s,"class","inner-chart"),O(s,"transform",`translate(${t[4].left}, ${t[4].top})`),O(i,"id","chart"),O(i,"height",Nn),O(i,"width",t[1]),O(i,"class","svelte-8tbnc6"),O(e,"class","chart-container svelte-8tbnc6"),Ct(()=>t[12].call(e))},m(u,h){ot(u,e,h),F(e,n),F(e,r),F(e,i),F(i,s);for(let f=0;f<c.length;f+=1)c[f]&&c[f].m(s,null);o=zn(e,t[12].bind(e))},p(u,[h]){if(h&45){a=_e(u[0]);let f;for(f=0;f<a.length;f+=1){const l=Ke(u,a,f);c[f]?c[f].p(l,h):(c[f]=tn(l),c[f].c(),c[f].m(s,null))}for(;f<c.length;f+=1)c[f].d(1);c.length=a.length}h&2&&O(i,"width",u[1])},i:ht,o:ht,d(u){u&&U(e),Dn(c,u),o()}}}let Nn=800;const Pi="chart",Cn=20;function Si(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function Ai(t,e,n){let r,i,{data:s=[]}=e,{value:o=""}=e,a=600,c,u,h,f,l;const d={top:0,right:100,bottom:20,left:0};let p=Nn-d.top-d.bottom;const g={bowing:.25,fill:"rgba(253,59,90,0.9)",fillStyle:"hachure",fillWeight:1,hachureAngle:90,hachureGap:.75,roughness:2,seed:1e3,strokeWidth:.25};function b(){n(8,u=document.getElementById(Pi)),n(7,c=br.svg(u))}on(b);function y(){a=this.clientWidth,n(1,a)}return t.$$set=m=>{"data"in m&&n(0,s=m.data),"value"in m&&n(6,o=m.value)},t.$$.update=()=>{t.$$.dirty&2&&n(11,r=a-d.left-d.right),t.$$.dirty&1&&n(2,l=kn().domain(s.map(m=>m.Date)).range([p,0]).padding(.25)),t.$$.dirty&1&&n(9,h=Lr(s,m=>parseFloat(m.Land))),t.$$.dirty&2560&&n(10,f=On().domain([0,h]).range([0,r])),t.$$.dirty&1412&&n(3,i=function(m,x,$,k){if(!c)return;const v=c.rectangle(50,l(m.Date),f(m.Land),Cn,k);if(u.appendChild(v),$===0||$===x.length-1){let _=document.createElementNS("http://www.w3.org/2000/svg","text");$!==0?_.setAttribute("x",f(m.Land)/1.5):_.setAttribute("x",f(m.Land)/2),_.setAttribute("y",l(m.Date)+l.bandwidth()/2),_.setAttribute("dy","0.25rem"),_.setAttribute("text-anchor","center"),_.setAttribute("font-family","BentonSansCond-Bold"),_.textContent=Si(parseFloat(m.Land)),u.appendChild(_),console.log(_)}}),t.$$.dirty&1&&console.log(s)},[s,a,l,i,d,g,o,c,u,h,f,r,y]}class Oi extends ln{constructor(e){super(),fn(this,e,Ai,$i,sn,{data:0,value:6})}}function en(t){let e,n;return e=new Oi({props:{data:t[0].sort(t[2]),value:t[1]}}),{c(){Vn(e.$$.fragment)},m(r,i){cn(e,r,i),n=!0},p(r,i){const s={};i&1&&(s.data=r[0].sort(r[2])),e.$set(s)},i(r){n||(ct(e.$$.fragment,r),n=!0)},o(r){re(e.$$.fragment,r),n=!1},d(r){hn(e,r)}}}function Ni(t){let e,n,r,i,s=t[0]&&en(t);return{c(){e=ft("header"),e.innerHTML='<h1 class="svelte-qmifsu">DuBois Data Portraits</h1> <p class="subhead svelte-qmifsu">Challenge #3. Visit the <a target="_blank" href="https://www.datavisualizationsociety.org/news/2024/2/2/advance-your-data-viz-skills-with-the-weekly-2024-du-bois-visualization-challenge">Data visualization Society</a> for more information.</p>',n=an(),r=ft("main"),s&&s.c(),O(e,"class","svelte-qmifsu")},m(o,a){ot(o,e,a),ot(o,n,a),ot(o,r,a),s&&s.m(r,null),i=!0},p(o,[a]){o[0]?s?(s.p(o,a),a&1&&ct(s,1)):(s=en(o),s.c(),ct(s,1),s.m(r,null)):s&&(Gn(),re(s,1,1,()=>{s=null}),Bn())},i(o){i||(ct(s),i=!0)},o(o){re(s),i=!1},d(o){o&&(U(e),U(n),U(r)),s&&s.d()}}}const Ci="https://raw.githubusercontent.com/ajstarks/dubois-data-portraits/master/challenge/2024/challenge03/data.csv";function Li(t,e,n){let r,i;async function s(c){const h=await(await fetch(c)).text();return tr(h)}async function o(){n(0,r=await s(Ci))}return on(o),[r,i,(c,u)=>parseFloat(u.Date)-parseFloat(c.Date)]}class Ei extends ln{constructor(e){super(),fn(this,e,Li,Ni,sn,{})}}new Ei({target:document.getElementById("app")});
