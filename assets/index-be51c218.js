var qn=Object.defineProperty;var Fn=(t,e,r)=>e in t?qn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Zt=(t,e,r)=>(Fn(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function dt(){}function pn(t){return t()}function Ae(){return Object.create(null)}function xt(t){t.forEach(pn)}function gn(t){return typeof t=="function"}function ge(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Hn(t){return Object.keys(t).length===0}function O(t,e){t.appendChild(e)}function rt(t,e,r){t.insertBefore(e,r||null)}function B(t){t.parentNode&&t.parentNode.removeChild(t)}function Gn(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function V(t){return document.createElement(t)}function Tt(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function it(t){return document.createTextNode(t)}function Dt(){return it(" ")}function Ne(t,e,r,n){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}function N(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function Bn(t){return Array.from(t.childNodes)}function It(t,e){e=""+e,t.data!==e&&(t.data=e)}function kt(t,e,r,n){r==null?t.style.removeProperty(e):t.style.setProperty(e,r,n?"important":"")}let vt;function Vn(){if(vt===void 0){vt=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{vt=!0}}return vt}function mn(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const n=V("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const i=Vn();let s;return i?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",s=Ne(window,"message",o=>{o.source===n.contentWindow&&e()})):(n.src="about:blank",n.onload=()=>{s=Ne(n.contentWindow,"resize",e),e()}),O(t,n),()=>{(i||s&&n.contentWindow)&&s(),B(n)}}let pt;function ht(t){pt=t}function Un(){if(!pt)throw new Error("Function called outside component initialization");return pt}function bn(t){Un().$$.on_mount.push(t)}const et=[],Oe=[];let st=[];const Le=[],Zn=Promise.resolve();let oe=!1;function Qn(){oe||(oe=!0,Zn.then(yn))}function gt(t){st.push(t)}const Qt=new Set;let K=0;function yn(){if(K!==0)return;const t=pt;do{try{for(;K<et.length;){const e=et[K];K++,ht(e),Yn(e.$$)}}catch(e){throw et.length=0,K=0,e}for(ht(null),et.length=0,K=0;Oe.length;)Oe.pop()();for(let e=0;e<st.length;e+=1){const r=st[e];Qt.has(r)||(Qt.add(r),r())}st.length=0}while(et.length);for(;Le.length;)Le.pop()();oe=!1,Qt.clear(),ht(t)}function Yn(t){if(t.fragment!==null){t.update(),xt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(gt)}}function Xn(t){const e=[],r=[];st.forEach(n=>t.indexOf(n)===-1?e.push(n):r.push(n)),r.forEach(n=>n()),st=e}const Ot=new Set;let Q;function xn(){Q={r:0,c:[],p:Q}}function Mn(){Q.r||xt(Q.c),Q=Q.p}function G(t,e){t&&t.i&&(Ot.delete(t),t.i(e))}function ot(t,e,r,n){if(t&&t.o){if(Ot.has(t))return;Ot.add(t),Q.c.push(()=>{Ot.delete(t),n&&(r&&t.d(1),n())}),t.o(e)}else n&&n()}function Ce(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function wn(t){t&&t.c()}function me(t,e,r){const{fragment:n,after_update:i}=t.$$;n&&n.m(e,r),gt(()=>{const s=t.$$.on_mount.map(pn).filter(gn);t.$$.on_destroy?t.$$.on_destroy.push(...s):xt(s),t.$$.on_mount=[]}),i.forEach(gt)}function be(t,e){const r=t.$$;r.fragment!==null&&(Xn(r.after_update),xt(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function Jn(t,e){t.$$.dirty[0]===-1&&(et.push(t),Qn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ye(t,e,r,n,i,s,o,a=[-1]){const u=pt;ht(t);const c=t.$$={fragment:null,ctx:[],props:s,update:dt,not_equal:i,bound:Ae(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Ae(),dirty:a,skip_bound:!1,root:e.target||u.$$.root};o&&o(c.root);let f=!1;if(c.ctx=r?r(t,e.props||{},(l,h,...p)=>{const d=p.length?p[0]:h;return c.ctx&&i(c.ctx[l],c.ctx[l]=d)&&(!c.skip_bound&&c.bound[l]&&c.bound[l](d),f&&Jn(t,l)),h}):[],c.update(),f=!0,xt(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const l=Bn(e.target);c.fragment&&c.fragment.l(l),l.forEach(B)}else c.fragment&&c.fragment.c();e.intro&&G(t.$$.fragment),me(t,e.target,e.anchor),yn()}ht(u)}class xe{constructor(){Zt(this,"$$");Zt(this,"$$set")}$destroy(){be(this,1),this.$destroy=dt}$on(e,r){if(!gn(r))return dt;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(r),()=>{const i=n.indexOf(r);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!Hn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Kn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Kn);var Ee={},Yt={},Xt=34,ct=10,Jt=13;function kn(t){return new Function("d","return {"+t.map(function(e,r){return JSON.stringify(e)+": d["+r+'] || ""'}).join(",")+"}")}function tr(t,e){var r=kn(t);return function(n,i){return e(r(n),i,t)}}function Te(t){var e=Object.create(null),r=[];return t.forEach(function(n){for(var i in n)i in e||r.push(e[i]=i)}),r}function E(t,e){var r=t+"",n=r.length;return n<e?new Array(e-n+1).join(0)+r:r}function er(t){return t<0?"-"+E(-t,6):t>9999?"+"+E(t,6):E(t,4)}function nr(t){var e=t.getUTCHours(),r=t.getUTCMinutes(),n=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":er(t.getUTCFullYear())+"-"+E(t.getUTCMonth()+1,2)+"-"+E(t.getUTCDate(),2)+(i?"T"+E(e,2)+":"+E(r,2)+":"+E(n,2)+"."+E(i,3)+"Z":n?"T"+E(e,2)+":"+E(r,2)+":"+E(n,2)+"Z":r||e?"T"+E(e,2)+":"+E(r,2)+"Z":"")}function rr(t){var e=new RegExp('["'+t+`
\r]`),r=t.charCodeAt(0);function n(l,h){var p,d,g=i(l,function(m,b){if(p)return p(m,b-1);d=m,p=h?tr(m,h):kn(m)});return g.columns=d||[],g}function i(l,h){var p=[],d=l.length,g=0,m=0,b,y=d<=0,x=!1;l.charCodeAt(d-1)===ct&&--d,l.charCodeAt(d-1)===Jt&&--d;function w(){if(y)return Yt;if(x)return x=!1,Ee;var _,S=g,P;if(l.charCodeAt(S)===Xt){for(;g++<d&&l.charCodeAt(g)!==Xt||l.charCodeAt(++g)===Xt;);return(_=g)>=d?y=!0:(P=l.charCodeAt(g++))===ct?x=!0:P===Jt&&(x=!0,l.charCodeAt(g)===ct&&++g),l.slice(S+1,_-1).replace(/""/g,'"')}for(;g<d;){if((P=l.charCodeAt(_=g++))===ct)x=!0;else if(P===Jt)x=!0,l.charCodeAt(g)===ct&&++g;else if(P!==r)continue;return l.slice(S,_)}return y=!0,l.slice(S,d)}for(;(b=w())!==Yt;){for(var k=[];b!==Ee&&b!==Yt;)k.push(b),b=w();h&&(k=h(k,m++))==null||p.push(k)}return p}function s(l,h){return l.map(function(p){return h.map(function(d){return f(p[d])}).join(t)})}function o(l,h){return h==null&&(h=Te(l)),[h.map(f).join(t)].concat(s(l,h)).join(`
`)}function a(l,h){return h==null&&(h=Te(l)),s(l,h).join(`
`)}function u(l){return l.map(c).join(`
`)}function c(l){return l.map(f).join(t)}function f(l){return l==null?"":l instanceof Date?nr(l):e.test(l+="")?'"'+l.replace(/"/g,'""')+'"':l}return{parse:n,parseRows:i,format:o,formatBody:a,formatRows:u,formatRow:c,formatValue:f}}var ir=rr(","),sr=ir.parse;function Kt(t,e,r){if(t&&t.length){const[n,i]=e,s=Math.PI/180*r,o=Math.cos(s),a=Math.sin(s);for(const u of t){const[c,f]=u;u[0]=(c-n)*o-(f-i)*a+n,u[1]=(c-n)*a+(f-i)*o+i}}}function ar(t,e){return t[0]===e[0]&&t[1]===e[1]}function or(t,e,r,n=1){const i=r,s=Math.max(e,.1),o=t[0]&&t[0][0]&&typeof t[0][0]=="number"?[t]:t,a=[0,0];if(i)for(const c of o)Kt(c,a,i);const u=function(c,f,l){const h=[];for(const y of c){const x=[...y];ar(x[0],x[x.length-1])||x.push([x[0][0],x[0][1]]),x.length>2&&h.push(x)}const p=[];f=Math.max(f,.1);const d=[];for(const y of h)for(let x=0;x<y.length-1;x++){const w=y[x],k=y[x+1];if(w[1]!==k[1]){const _=Math.min(w[1],k[1]);d.push({ymin:_,ymax:Math.max(w[1],k[1]),x:_===w[1]?w[0]:k[0],islope:(k[0]-w[0])/(k[1]-w[1])})}}if(d.sort((y,x)=>y.ymin<x.ymin?-1:y.ymin>x.ymin?1:y.x<x.x?-1:y.x>x.x?1:y.ymax===x.ymax?0:(y.ymax-x.ymax)/Math.abs(y.ymax-x.ymax)),!d.length)return p;let g=[],m=d[0].ymin,b=0;for(;g.length||d.length;){if(d.length){let y=-1;for(let x=0;x<d.length&&!(d[x].ymin>m);x++)y=x;d.splice(0,y+1).forEach(x=>{g.push({s:m,edge:x})})}if(g=g.filter(y=>!(y.edge.ymax<=m)),g.sort((y,x)=>y.edge.x===x.edge.x?0:(y.edge.x-x.edge.x)/Math.abs(y.edge.x-x.edge.x)),(l!==1||b%f==0)&&g.length>1)for(let y=0;y<g.length;y+=2){const x=y+1;if(x>=g.length)break;const w=g[y].edge,k=g[x].edge;p.push([[Math.round(w.x),m],[Math.round(k.x),m]])}m+=l,g.forEach(y=>{y.edge.x=y.edge.x+l*y.edge.islope}),b++}return p}(o,s,n);if(i){for(const c of o)Kt(c,a,-i);(function(c,f,l){const h=[];c.forEach(p=>h.push(...p)),Kt(h,f,l)})(u,a,-i)}return u}function Mt(t,e){var r;const n=e.hachureAngle+90;let i=e.hachureGap;i<0&&(i=4*e.strokeWidth),i=Math.round(Math.max(i,.1));let s=1;return e.roughness>=1&&(((r=e.randomizer)===null||r===void 0?void 0:r.next())||Math.random())>.7&&(s=i),or(t,i,n,s||1)}class Me{constructor(e){this.helper=e}fillPolygons(e,r){return this._fillPolygons(e,r)}_fillPolygons(e,r){const n=Mt(e,r);return{type:"fillSketch",ops:this.renderLines(n,r)}}renderLines(e,r){const n=[];for(const i of e)n.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],r));return n}}function Ut(t){const e=t[0],r=t[1];return Math.sqrt(Math.pow(e[0]-r[0],2)+Math.pow(e[1]-r[1],2))}class ur extends Me{fillPolygons(e,r){let n=r.hachureGap;n<0&&(n=4*r.strokeWidth),n=Math.max(n,.1);const i=Mt(e,Object.assign({},r,{hachureGap:n})),s=Math.PI/180*r.hachureAngle,o=[],a=.5*n*Math.cos(s),u=.5*n*Math.sin(s);for(const[c,f]of i)Ut([c,f])&&o.push([[c[0]-a,c[1]+u],[...f]],[[c[0]+a,c[1]-u],[...f]]);return{type:"fillSketch",ops:this.renderLines(o,r)}}}class cr extends Me{fillPolygons(e,r){const n=this._fillPolygons(e,r),i=Object.assign({},r,{hachureAngle:r.hachureAngle+90}),s=this._fillPolygons(e,i);return n.ops=n.ops.concat(s.ops),n}}class fr{constructor(e){this.helper=e}fillPolygons(e,r){const n=Mt(e,r=Object.assign({},r,{hachureAngle:0}));return this.dotsOnLines(n,r)}dotsOnLines(e,r){const n=[];let i=r.hachureGap;i<0&&(i=4*r.strokeWidth),i=Math.max(i,.1);let s=r.fillWeight;s<0&&(s=r.strokeWidth/2);const o=i/4;for(const a of e){const u=Ut(a),c=u/i,f=Math.ceil(c)-1,l=u-f*i,h=(a[0][0]+a[1][0])/2-i/4,p=Math.min(a[0][1],a[1][1]);for(let d=0;d<f;d++){const g=p+l+d*i,m=h-o+2*Math.random()*o,b=g-o+2*Math.random()*o,y=this.helper.ellipse(m,b,s,s,r);n.push(...y.ops)}}return{type:"fillSketch",ops:n}}}class lr{constructor(e){this.helper=e}fillPolygons(e,r){const n=Mt(e,r);return{type:"fillSketch",ops:this.dashedLine(n,r)}}dashedLine(e,r){const n=r.dashOffset<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashOffset,i=r.dashGap<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashGap,s=[];return e.forEach(o=>{const a=Ut(o),u=Math.floor(a/(n+i)),c=(a+i-u*(n+i))/2;let f=o[0],l=o[1];f[0]>l[0]&&(f=o[1],l=o[0]);const h=Math.atan((l[1]-f[1])/(l[0]-f[0]));for(let p=0;p<u;p++){const d=p*(n+i),g=d+n,m=[f[0]+d*Math.cos(h)+c*Math.cos(h),f[1]+d*Math.sin(h)+c*Math.sin(h)],b=[f[0]+g*Math.cos(h)+c*Math.cos(h),f[1]+g*Math.sin(h)+c*Math.sin(h)];s.push(...this.helper.doubleLineOps(m[0],m[1],b[0],b[1],r))}}),s}}class hr{constructor(e){this.helper=e}fillPolygons(e,r){const n=r.hachureGap<0?4*r.strokeWidth:r.hachureGap,i=r.zigzagOffset<0?n:r.zigzagOffset,s=Mt(e,r=Object.assign({},r,{hachureGap:n+i}));return{type:"fillSketch",ops:this.zigzagLines(s,i,r)}}zigzagLines(e,r,n){const i=[];return e.forEach(s=>{const o=Ut(s),a=Math.round(o/(2*r));let u=s[0],c=s[1];u[0]>c[0]&&(u=s[1],c=s[0]);const f=Math.atan((c[1]-u[1])/(c[0]-u[0]));for(let l=0;l<a;l++){const h=2*l*r,p=2*(l+1)*r,d=Math.sqrt(2*Math.pow(r,2)),g=[u[0]+h*Math.cos(f),u[1]+h*Math.sin(f)],m=[u[0]+p*Math.cos(f),u[1]+p*Math.sin(f)],b=[g[0]+d*Math.cos(f+Math.PI/4),g[1]+d*Math.sin(f+Math.PI/4)];i.push(...this.helper.doubleLineOps(g[0],g[1],b[0],b[1],n),...this.helper.doubleLineOps(b[0],b[1],m[0],m[1],n))}}),i}}const C={};class dr{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const pr=0,te=1,De=2,_t={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function ee(t,e){return t.type===e}function we(t){const e=[],r=function(o){const a=new Array;for(;o!=="";)if(o.match(/^([ \t\r\n,]+)/))o=o.substr(RegExp.$1.length);else if(o.match(/^([aAcChHlLmMqQsStTvVzZ])/))a[a.length]={type:pr,text:RegExp.$1},o=o.substr(RegExp.$1.length);else{if(!o.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];a[a.length]={type:te,text:`${parseFloat(RegExp.$1)}`},o=o.substr(RegExp.$1.length)}return a[a.length]={type:De,text:""},a}(t);let n="BOD",i=0,s=r[i];for(;!ee(s,De);){let o=0;const a=[];if(n==="BOD"){if(s.text!=="M"&&s.text!=="m")return we("M0,0"+t);i++,o=_t[s.text],n=s.text}else ee(s,te)?o=_t[n]:(i++,o=_t[s.text],n=s.text);if(!(i+o<r.length))throw new Error("Path data ended short");for(let u=i;u<i+o;u++){const c=r[u];if(!ee(c,te))throw new Error("Param not a number: "+n+","+c.text);a[a.length]=+c.text}if(typeof _t[n]!="number")throw new Error("Bad segment: "+n);{const u={key:n,data:a};e.push(u),i+=o,s=r[i],n==="M"&&(n="L"),n==="m"&&(n="l")}}return e}function vn(t){let e=0,r=0,n=0,i=0;const s=[];for(const{key:o,data:a}of t)switch(o){case"M":s.push({key:"M",data:[...a]}),[e,r]=a,[n,i]=a;break;case"m":e+=a[0],r+=a[1],s.push({key:"M",data:[e,r]}),n=e,i=r;break;case"L":s.push({key:"L",data:[...a]}),[e,r]=a;break;case"l":e+=a[0],r+=a[1],s.push({key:"L",data:[e,r]});break;case"C":s.push({key:"C",data:[...a]}),e=a[4],r=a[5];break;case"c":{const u=a.map((c,f)=>f%2?c+r:c+e);s.push({key:"C",data:u}),e=u[4],r=u[5];break}case"Q":s.push({key:"Q",data:[...a]}),e=a[2],r=a[3];break;case"q":{const u=a.map((c,f)=>f%2?c+r:c+e);s.push({key:"Q",data:u}),e=u[2],r=u[3];break}case"A":s.push({key:"A",data:[...a]}),e=a[5],r=a[6];break;case"a":e+=a[5],r+=a[6],s.push({key:"A",data:[a[0],a[1],a[2],a[3],a[4],e,r]});break;case"H":s.push({key:"H",data:[...a]}),e=a[0];break;case"h":e+=a[0],s.push({key:"H",data:[e]});break;case"V":s.push({key:"V",data:[...a]}),r=a[0];break;case"v":r+=a[0],s.push({key:"V",data:[r]});break;case"S":s.push({key:"S",data:[...a]}),e=a[2],r=a[3];break;case"s":{const u=a.map((c,f)=>f%2?c+r:c+e);s.push({key:"S",data:u}),e=u[2],r=u[3];break}case"T":s.push({key:"T",data:[...a]}),e=a[0],r=a[1];break;case"t":e+=a[0],r+=a[1],s.push({key:"T",data:[e,r]});break;case"Z":case"z":s.push({key:"Z",data:[]}),e=n,r=i}return s}function _n(t){const e=[];let r="",n=0,i=0,s=0,o=0,a=0,u=0;for(const{key:c,data:f}of t){switch(c){case"M":e.push({key:"M",data:[...f]}),[n,i]=f,[s,o]=f;break;case"C":e.push({key:"C",data:[...f]}),n=f[4],i=f[5],a=f[2],u=f[3];break;case"L":e.push({key:"L",data:[...f]}),[n,i]=f;break;case"H":n=f[0],e.push({key:"L",data:[n,i]});break;case"V":i=f[0],e.push({key:"L",data:[n,i]});break;case"S":{let l=0,h=0;r==="C"||r==="S"?(l=n+(n-a),h=i+(i-u)):(l=n,h=i),e.push({key:"C",data:[l,h,...f]}),a=f[0],u=f[1],n=f[2],i=f[3];break}case"T":{const[l,h]=f;let p=0,d=0;r==="Q"||r==="T"?(p=n+(n-a),d=i+(i-u)):(p=n,d=i);const g=n+2*(p-n)/3,m=i+2*(d-i)/3,b=l+2*(p-l)/3,y=h+2*(d-h)/3;e.push({key:"C",data:[g,m,b,y,l,h]}),a=p,u=d,n=l,i=h;break}case"Q":{const[l,h,p,d]=f,g=n+2*(l-n)/3,m=i+2*(h-i)/3,b=p+2*(l-p)/3,y=d+2*(h-d)/3;e.push({key:"C",data:[g,m,b,y,p,d]}),a=l,u=h,n=p,i=d;break}case"A":{const l=Math.abs(f[0]),h=Math.abs(f[1]),p=f[2],d=f[3],g=f[4],m=f[5],b=f[6];l===0||h===0?(e.push({key:"C",data:[n,i,m,b,m,b]}),n=m,i=b):(n!==m||i!==b)&&(Pn(n,i,m,b,l,h,p,d,g).forEach(function(y){e.push({key:"C",data:y})}),n=m,i=b);break}case"Z":e.push({key:"Z",data:[]}),n=s,i=o}r=c}return e}function ft(t,e,r){return[t*Math.cos(r)-e*Math.sin(r),t*Math.sin(r)+e*Math.cos(r)]}function Pn(t,e,r,n,i,s,o,a,u,c){const f=(l=o,Math.PI*l/180);var l;let h=[],p=0,d=0,g=0,m=0;if(c)[p,d,g,m]=c;else{[t,e]=ft(t,e,-f),[r,n]=ft(r,n,-f);const $=(t-r)/2,A=(e-n)/2;let D=$*$/(i*i)+A*A/(s*s);D>1&&(D=Math.sqrt(D),i*=D,s*=D);const R=i*i,z=s*s,J=R*z-R*A*A-z*$*$,j=R*A*A+z*$*$,$e=(a===u?-1:1)*Math.sqrt(Math.abs(J/j));g=$e*i*A/s+(t+r)/2,m=$e*-s*$/i+(e+n)/2,p=Math.asin(parseFloat(((e-m)/s).toFixed(9))),d=Math.asin(parseFloat(((n-m)/s).toFixed(9))),t<g&&(p=Math.PI-p),r<g&&(d=Math.PI-d),p<0&&(p=2*Math.PI+p),d<0&&(d=2*Math.PI+d),u&&p>d&&(p-=2*Math.PI),!u&&d>p&&(d-=2*Math.PI)}let b=d-p;if(Math.abs(b)>120*Math.PI/180){const $=d,A=r,D=n;d=u&&d>p?p+120*Math.PI/180*1:p+120*Math.PI/180*-1,h=Pn(r=g+i*Math.cos(d),n=m+s*Math.sin(d),A,D,i,s,o,0,u,[d,$,g,m])}b=d-p;const y=Math.cos(p),x=Math.sin(p),w=Math.cos(d),k=Math.sin(d),_=Math.tan(b/4),S=4/3*i*_,P=4/3*s*_,q=[t,e],L=[t+S*x,e-P*y],v=[r+S*k,n-P*w],F=[r,n];if(L[0]=2*q[0]-L[0],L[1]=2*q[1]-L[1],c)return[L,v,F].concat(h);{h=[L,v,F].concat(h);const $=[];for(let A=0;A<h.length;A+=3){const D=ft(h[A][0],h[A][1],f),R=ft(h[A+1][0],h[A+1][1],f),z=ft(h[A+2][0],h[A+2][1],f);$.push([D[0],D[1],R[0],R[1],z[0],z[1]])}return $}}const gr={randOffset:function(t,e){return M(t,e)},randOffsetWithRange:function(t,e,r){return Rt(t,e,r)},ellipse:function(t,e,r,n,i){const s=$n(r,n,i);return ue(t,e,i,s).opset},doubleLineOps:function(t,e,r,n,i){return U(t,e,r,n,i,!0)}};function Sn(t,e,r,n,i){return{type:"path",ops:U(t,e,r,n,i)}}function Lt(t,e,r){const n=(t||[]).length;if(n>2){const i=[];for(let s=0;s<n-1;s++)i.push(...U(t[s][0],t[s][1],t[s+1][0],t[s+1][1],r));return e&&i.push(...U(t[n-1][0],t[n-1][1],t[0][0],t[0][1],r)),{type:"path",ops:i}}return n===2?Sn(t[0][0],t[0][1],t[1][0],t[1][1],r):{type:"path",ops:[]}}function mr(t,e,r,n,i){return function(s,o){return Lt(s,!0,o)}([[t,e],[t+r,e],[t+r,e+n],[t,e+n]],i)}function Ie(t,e){if(t.length){const r=typeof t[0][0]=="number"?[t]:t,n=Pt(r[0],1*(1+.2*e.roughness),e),i=e.disableMultiStroke?[]:Pt(r[0],1.5*(1+.22*e.roughness),je(e));for(let s=1;s<r.length;s++){const o=r[s];if(o.length){const a=Pt(o,1*(1+.2*e.roughness),e),u=e.disableMultiStroke?[]:Pt(o,1.5*(1+.22*e.roughness),je(e));for(const c of a)c.op!=="move"&&n.push(c);for(const c of u)c.op!=="move"&&i.push(c)}}return{type:"path",ops:n.concat(i)}}return{type:"path",ops:[]}}function $n(t,e,r){const n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),i=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*n)),s=2*Math.PI/i;let o=Math.abs(t/2),a=Math.abs(e/2);const u=1-r.curveFitting;return o+=M(o*u,r),a+=M(a*u,r),{increment:s,rx:o,ry:a}}function ue(t,e,r,n){const[i,s]=We(n.increment,t,e,n.rx,n.ry,1,n.increment*Rt(.1,Rt(.4,1,r),r),r);let o=zt(i,null,r);if(!r.disableMultiStroke&&r.roughness!==0){const[a]=We(n.increment,t,e,n.rx,n.ry,1.5,0,r),u=zt(a,null,r);o=o.concat(u)}return{estimatedPoints:s,opset:{type:"path",ops:o}}}function Re(t,e,r,n,i,s,o,a,u){const c=t,f=e;let l=Math.abs(r/2),h=Math.abs(n/2);l+=M(.01*l,u),h+=M(.01*h,u);let p=i,d=s;for(;p<0;)p+=2*Math.PI,d+=2*Math.PI;d-p>2*Math.PI&&(p=0,d=2*Math.PI);const g=2*Math.PI/u.curveStepCount,m=Math.min(g/2,(d-p)/2),b=qe(m,c,f,l,h,p,d,1,u);if(!u.disableMultiStroke){const y=qe(m,c,f,l,h,p,d,1.5,u);b.push(...y)}return o&&(a?b.push(...U(c,f,c+l*Math.cos(p),f+h*Math.sin(p),u),...U(c,f,c+l*Math.cos(d),f+h*Math.sin(d),u)):b.push({op:"lineTo",data:[c,f]},{op:"lineTo",data:[c+l*Math.cos(p),f+h*Math.sin(p)]})),{type:"path",ops:b}}function ze(t,e){const r=_n(vn(we(t))),n=[];let i=[0,0],s=[0,0];for(const{key:o,data:a}of r)switch(o){case"M":s=[a[0],a[1]],i=[a[0],a[1]];break;case"L":n.push(...U(s[0],s[1],a[0],a[1],e)),s=[a[0],a[1]];break;case"C":{const[u,c,f,l,h,p]=a;n.push(...br(u,c,f,l,h,p,s,e)),s=[h,p];break}case"Z":n.push(...U(s[0],s[1],i[0],i[1],e)),s=[i[0],i[1]]}return{type:"path",ops:n}}function ne(t,e){const r=[];for(const n of t)if(n.length){const i=e.maxRandomnessOffset||0,s=n.length;if(s>2){r.push({op:"move",data:[n[0][0]+M(i,e),n[0][1]+M(i,e)]});for(let o=1;o<s;o++)r.push({op:"lineTo",data:[n[o][0]+M(i,e),n[o][1]+M(i,e)]})}}return{type:"fillPath",ops:r}}function tt(t,e){return function(r,n){let i=r.fillStyle||"hachure";if(!C[i])switch(i){case"zigzag":C[i]||(C[i]=new ur(n));break;case"cross-hatch":C[i]||(C[i]=new cr(n));break;case"dots":C[i]||(C[i]=new fr(n));break;case"dashed":C[i]||(C[i]=new lr(n));break;case"zigzag-line":C[i]||(C[i]=new hr(n));break;default:i="hachure",C[i]||(C[i]=new Me(n))}return C[i]}(e,gr).fillPolygons(t,e)}function je(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function An(t){return t.randomizer||(t.randomizer=new dr(t.seed||0)),t.randomizer.next()}function Rt(t,e,r,n=1){return r.roughness*n*(An(r)*(e-t)+t)}function M(t,e,r=1){return Rt(-t,t,e,r)}function U(t,e,r,n,i,s=!1){const o=s?i.disableMultiStrokeFill:i.disableMultiStroke,a=ce(t,e,r,n,i,!0,!1);if(o)return a;const u=ce(t,e,r,n,i,!0,!0);return a.concat(u)}function ce(t,e,r,n,i,s,o){const a=Math.pow(t-r,2)+Math.pow(e-n,2),u=Math.sqrt(a);let c=1;c=u<200?1:u>500?.4:-.0016668*u+1.233334;let f=i.maxRandomnessOffset||0;f*f*100>a&&(f=u/10);const l=f/2,h=.2+.2*An(i);let p=i.bowing*i.maxRandomnessOffset*(n-e)/200,d=i.bowing*i.maxRandomnessOffset*(t-r)/200;p=M(p,i,c),d=M(d,i,c);const g=[],m=()=>M(l,i,c),b=()=>M(f,i,c),y=i.preserveVertices;return s&&(o?g.push({op:"move",data:[t+(y?0:m()),e+(y?0:m())]}):g.push({op:"move",data:[t+(y?0:M(f,i,c)),e+(y?0:M(f,i,c))]})),o?g.push({op:"bcurveTo",data:[p+t+(r-t)*h+m(),d+e+(n-e)*h+m(),p+t+2*(r-t)*h+m(),d+e+2*(n-e)*h+m(),r+(y?0:m()),n+(y?0:m())]}):g.push({op:"bcurveTo",data:[p+t+(r-t)*h+b(),d+e+(n-e)*h+b(),p+t+2*(r-t)*h+b(),d+e+2*(n-e)*h+b(),r+(y?0:b()),n+(y?0:b())]}),g}function Pt(t,e,r){if(!t.length)return[];const n=[];n.push([t[0][0]+M(e,r),t[0][1]+M(e,r)]),n.push([t[0][0]+M(e,r),t[0][1]+M(e,r)]);for(let i=1;i<t.length;i++)n.push([t[i][0]+M(e,r),t[i][1]+M(e,r)]),i===t.length-1&&n.push([t[i][0]+M(e,r),t[i][1]+M(e,r)]);return zt(n,null,r)}function zt(t,e,r){const n=t.length,i=[];if(n>3){const s=[],o=1-r.curveTightness;i.push({op:"move",data:[t[1][0],t[1][1]]});for(let a=1;a+2<n;a++){const u=t[a];s[0]=[u[0],u[1]],s[1]=[u[0]+(o*t[a+1][0]-o*t[a-1][0])/6,u[1]+(o*t[a+1][1]-o*t[a-1][1])/6],s[2]=[t[a+1][0]+(o*t[a][0]-o*t[a+2][0])/6,t[a+1][1]+(o*t[a][1]-o*t[a+2][1])/6],s[3]=[t[a+1][0],t[a+1][1]],i.push({op:"bcurveTo",data:[s[1][0],s[1][1],s[2][0],s[2][1],s[3][0],s[3][1]]})}if(e&&e.length===2){const a=r.maxRandomnessOffset;i.push({op:"lineTo",data:[e[0]+M(a,r),e[1]+M(a,r)]})}}else n===3?(i.push({op:"move",data:[t[1][0],t[1][1]]}),i.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):n===2&&i.push(...ce(t[0][0],t[0][1],t[1][0],t[1][1],r,!0,!0));return i}function We(t,e,r,n,i,s,o,a){const u=[],c=[];if(a.roughness===0){t/=4,c.push([e+n*Math.cos(-t),r+i*Math.sin(-t)]);for(let f=0;f<=2*Math.PI;f+=t){const l=[e+n*Math.cos(f),r+i*Math.sin(f)];u.push(l),c.push(l)}c.push([e+n*Math.cos(0),r+i*Math.sin(0)]),c.push([e+n*Math.cos(t),r+i*Math.sin(t)])}else{const f=M(.5,a)-Math.PI/2;c.push([M(s,a)+e+.9*n*Math.cos(f-t),M(s,a)+r+.9*i*Math.sin(f-t)]);const l=2*Math.PI+f-.01;for(let h=f;h<l;h+=t){const p=[M(s,a)+e+n*Math.cos(h),M(s,a)+r+i*Math.sin(h)];u.push(p),c.push(p)}c.push([M(s,a)+e+n*Math.cos(f+2*Math.PI+.5*o),M(s,a)+r+i*Math.sin(f+2*Math.PI+.5*o)]),c.push([M(s,a)+e+.98*n*Math.cos(f+o),M(s,a)+r+.98*i*Math.sin(f+o)]),c.push([M(s,a)+e+.9*n*Math.cos(f+.5*o),M(s,a)+r+.9*i*Math.sin(f+.5*o)])}return[c,u]}function qe(t,e,r,n,i,s,o,a,u){const c=s+M(.1,u),f=[];f.push([M(a,u)+e+.9*n*Math.cos(c-t),M(a,u)+r+.9*i*Math.sin(c-t)]);for(let l=c;l<=o;l+=t)f.push([M(a,u)+e+n*Math.cos(l),M(a,u)+r+i*Math.sin(l)]);return f.push([e+n*Math.cos(o),r+i*Math.sin(o)]),f.push([e+n*Math.cos(o),r+i*Math.sin(o)]),zt(f,null,u)}function br(t,e,r,n,i,s,o,a){const u=[],c=[a.maxRandomnessOffset||1,(a.maxRandomnessOffset||1)+.3];let f=[0,0];const l=a.disableMultiStroke?1:2,h=a.preserveVertices;for(let p=0;p<l;p++)p===0?u.push({op:"move",data:[o[0],o[1]]}):u.push({op:"move",data:[o[0]+(h?0:M(c[0],a)),o[1]+(h?0:M(c[0],a))]}),f=h?[i,s]:[i+M(c[p],a),s+M(c[p],a)],u.push({op:"bcurveTo",data:[t+M(c[p],a),e+M(c[p],a),r+M(c[p],a),n+M(c[p],a),f[0],f[1]]});return u}function lt(t){return[...t]}function Fe(t,e=0){const r=t.length;if(r<3)throw new Error("A curve must have at least three points.");const n=[];if(r===3)n.push(lt(t[0]),lt(t[1]),lt(t[2]),lt(t[2]));else{const i=[];i.push(t[0],t[0]);for(let a=1;a<t.length;a++)i.push(t[a]),a===t.length-1&&i.push(t[a]);const s=[],o=1-e;n.push(lt(i[0]));for(let a=1;a+2<i.length;a++){const u=i[a];s[0]=[u[0],u[1]],s[1]=[u[0]+(o*i[a+1][0]-o*i[a-1][0])/6,u[1]+(o*i[a+1][1]-o*i[a-1][1])/6],s[2]=[i[a+1][0]+(o*i[a][0]-o*i[a+2][0])/6,i[a+1][1]+(o*i[a][1]-o*i[a+2][1])/6],s[3]=[i[a+1][0],i[a+1][1]],n.push(s[1],s[2],s[3])}}return n}function Ct(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function yr(t,e,r){const n=Ct(e,r);if(n===0)return Ct(t,e);let i=((t[0]-e[0])*(r[0]-e[0])+(t[1]-e[1])*(r[1]-e[1]))/n;return i=Math.max(0,Math.min(1,i)),Ct(t,Z(e,r,i))}function Z(t,e,r){return[t[0]+(e[0]-t[0])*r,t[1]+(e[1]-t[1])*r]}function fe(t,e,r,n){const i=n||[];if(function(a,u){const c=a[u+0],f=a[u+1],l=a[u+2],h=a[u+3];let p=3*f[0]-2*c[0]-h[0];p*=p;let d=3*f[1]-2*c[1]-h[1];d*=d;let g=3*l[0]-2*h[0]-c[0];g*=g;let m=3*l[1]-2*h[1]-c[1];return m*=m,p<g&&(p=g),d<m&&(d=m),p+d}(t,e)<r){const a=t[e+0];i.length?(s=i[i.length-1],o=a,Math.sqrt(Ct(s,o))>1&&i.push(a)):i.push(a),i.push(t[e+3])}else{const u=t[e+0],c=t[e+1],f=t[e+2],l=t[e+3],h=Z(u,c,.5),p=Z(c,f,.5),d=Z(f,l,.5),g=Z(h,p,.5),m=Z(p,d,.5),b=Z(g,m,.5);fe([u,h,g,b],0,r,i),fe([b,m,d,l],0,r,i)}var s,o;return i}function xr(t,e){return jt(t,0,t.length,e)}function jt(t,e,r,n,i){const s=i||[],o=t[e],a=t[r-1];let u=0,c=1;for(let f=e+1;f<r-1;++f){const l=yr(t[f],o,a);l>u&&(u=l,c=f)}return Math.sqrt(u)>n?(jt(t,e,c+1,n,s),jt(t,c,r,n,s)):(s.length||s.push(o),s.push(a)),s}function re(t,e=.15,r){const n=[],i=(t.length-1)/3;for(let s=0;s<i;s++)fe(t,3*s,e,n);return r&&r>0?jt(n,0,n.length,r):n}const I="none";class Wt{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,r,n){return{shape:e,sets:r||[],options:n||this.defaultOptions}}line(e,r,n,i,s){const o=this._o(s);return this._d("line",[Sn(e,r,n,i,o)],o)}rectangle(e,r,n,i,s){const o=this._o(s),a=[],u=mr(e,r,n,i,o);if(o.fill){const c=[[e,r],[e+n,r],[e+n,r+i],[e,r+i]];o.fillStyle==="solid"?a.push(ne([c],o)):a.push(tt([c],o))}return o.stroke!==I&&a.push(u),this._d("rectangle",a,o)}ellipse(e,r,n,i,s){const o=this._o(s),a=[],u=$n(n,i,o),c=ue(e,r,o,u);if(o.fill)if(o.fillStyle==="solid"){const f=ue(e,r,o,u).opset;f.type="fillPath",a.push(f)}else a.push(tt([c.estimatedPoints],o));return o.stroke!==I&&a.push(c.opset),this._d("ellipse",a,o)}circle(e,r,n,i){const s=this.ellipse(e,r,n,n,i);return s.shape="circle",s}linearPath(e,r){const n=this._o(r);return this._d("linearPath",[Lt(e,!1,n)],n)}arc(e,r,n,i,s,o,a=!1,u){const c=this._o(u),f=[],l=Re(e,r,n,i,s,o,a,!0,c);if(a&&c.fill)if(c.fillStyle==="solid"){const h=Object.assign({},c);h.disableMultiStroke=!0;const p=Re(e,r,n,i,s,o,!0,!1,h);p.type="fillPath",f.push(p)}else f.push(function(h,p,d,g,m,b,y){const x=h,w=p;let k=Math.abs(d/2),_=Math.abs(g/2);k+=M(.01*k,y),_+=M(.01*_,y);let S=m,P=b;for(;S<0;)S+=2*Math.PI,P+=2*Math.PI;P-S>2*Math.PI&&(S=0,P=2*Math.PI);const q=(P-S)/y.curveStepCount,L=[];for(let v=S;v<=P;v+=q)L.push([x+k*Math.cos(v),w+_*Math.sin(v)]);return L.push([x+k*Math.cos(P),w+_*Math.sin(P)]),L.push([x,w]),tt([L],y)}(e,r,n,i,s,o,c));return c.stroke!==I&&f.push(l),this._d("arc",f,c)}curve(e,r){const n=this._o(r),i=[],s=Ie(e,n);if(n.fill&&n.fill!==I)if(n.fillStyle==="solid"){const o=Ie(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(o.ops)})}else{const o=[],a=e;if(a.length){const u=typeof a[0][0]=="number"?[a]:a;for(const c of u)c.length<3?o.push(...c):c.length===3?o.push(...re(Fe([c[0],c[0],c[1],c[2]]),10,(1+n.roughness)/2)):o.push(...re(Fe(c),10,(1+n.roughness)/2))}o.length&&i.push(tt([o],n))}return n.stroke!==I&&i.push(s),this._d("curve",i,n)}polygon(e,r){const n=this._o(r),i=[],s=Lt(e,!0,n);return n.fill&&(n.fillStyle==="solid"?i.push(ne([e],n)):i.push(tt([e],n))),n.stroke!==I&&i.push(s),this._d("polygon",i,n)}path(e,r){const n=this._o(r),i=[];if(!e)return this._d("path",i,n);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const s=n.fill&&n.fill!=="transparent"&&n.fill!==I,o=n.stroke!==I,a=!!(n.simplification&&n.simplification<1),u=function(f,l,h){const p=_n(vn(we(f))),d=[];let g=[],m=[0,0],b=[];const y=()=>{b.length>=4&&g.push(...re(b,l)),b=[]},x=()=>{y(),g.length&&(d.push(g),g=[])};for(const{key:k,data:_}of p)switch(k){case"M":x(),m=[_[0],_[1]],g.push(m);break;case"L":y(),g.push([_[0],_[1]]);break;case"C":if(!b.length){const S=g.length?g[g.length-1]:m;b.push([S[0],S[1]])}b.push([_[0],_[1]]),b.push([_[2],_[3]]),b.push([_[4],_[5]]);break;case"Z":y(),g.push([m[0],m[1]])}if(x(),!h)return d;const w=[];for(const k of d){const _=xr(k,h);_.length&&w.push(_)}return w}(e,1,a?4-4*(n.simplification||1):(1+n.roughness)/2),c=ze(e,n);if(s)if(n.fillStyle==="solid")if(u.length===1){const f=ze(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(f.ops)})}else i.push(ne(u,n));else i.push(tt(u,n));return o&&(a?u.forEach(f=>{i.push(Lt(f,!1,n))}):i.push(c)),this._d("path",i,n)}opsToPath(e,r){let n="";for(const i of e.ops){const s=typeof r=="number"&&r>=0?i.data.map(o=>+o.toFixed(r)):i.data;switch(i.op){case"move":n+=`M${s[0]} ${s[1]} `;break;case"bcurveTo":n+=`C${s[0]} ${s[1]}, ${s[2]} ${s[3]}, ${s[4]} ${s[5]} `;break;case"lineTo":n+=`L${s[0]} ${s[1]} `}}return n.trim()}toPaths(e){const r=e.sets||[],n=e.options||this.defaultOptions,i=[];for(const s of r){let o=null;switch(s.type){case"path":o={d:this.opsToPath(s),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:I};break;case"fillPath":o={d:this.opsToPath(s),stroke:I,strokeWidth:0,fill:n.fill||I};break;case"fillSketch":o=this.fillSketch(s,n)}o&&i.push(o)}return i}fillSketch(e,r){let n=r.fillWeight;return n<0&&(n=r.strokeWidth/2),{d:this.opsToPath(e),stroke:r.fill||I,strokeWidth:n,fill:I}}_mergedShape(e){return e.filter((r,n)=>n===0||r.op!=="move")}}class Mr{constructor(e,r){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new Wt(r)}draw(e){const r=e.sets||[],n=e.options||this.getDefaultOptions(),i=this.ctx,s=e.options.fixedDecimalPlaceDigits;for(const o of r)switch(o.type){case"path":i.save(),i.strokeStyle=n.stroke==="none"?"transparent":n.stroke,i.lineWidth=n.strokeWidth,n.strokeLineDash&&i.setLineDash(n.strokeLineDash),n.strokeLineDashOffset&&(i.lineDashOffset=n.strokeLineDashOffset),this._drawToContext(i,o,s),i.restore();break;case"fillPath":{i.save(),i.fillStyle=n.fill||"";const a=e.shape==="curve"||e.shape==="polygon"||e.shape==="path"?"evenodd":"nonzero";this._drawToContext(i,o,s,a),i.restore();break}case"fillSketch":this.fillSketch(i,o,n)}}fillSketch(e,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2),e.save(),n.fillLineDash&&e.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(e.lineDashOffset=n.fillLineDashOffset),e.strokeStyle=n.fill||"",e.lineWidth=i,this._drawToContext(e,r,n.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,r,n,i="nonzero"){e.beginPath();for(const s of r.ops){const o=typeof n=="number"&&n>=0?s.data.map(a=>+a.toFixed(n)):s.data;switch(s.op){case"move":e.moveTo(o[0],o[1]);break;case"bcurveTo":e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"lineTo":e.lineTo(o[0],o[1])}}r.type==="fillPath"?e.fill(i):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,r,n,i,s){const o=this.gen.line(e,r,n,i,s);return this.draw(o),o}rectangle(e,r,n,i,s){const o=this.gen.rectangle(e,r,n,i,s);return this.draw(o),o}ellipse(e,r,n,i,s){const o=this.gen.ellipse(e,r,n,i,s);return this.draw(o),o}circle(e,r,n,i){const s=this.gen.circle(e,r,n,i);return this.draw(s),s}linearPath(e,r){const n=this.gen.linearPath(e,r);return this.draw(n),n}polygon(e,r){const n=this.gen.polygon(e,r);return this.draw(n),n}arc(e,r,n,i,s,o,a=!1,u){const c=this.gen.arc(e,r,n,i,s,o,a,u);return this.draw(c),c}curve(e,r){const n=this.gen.curve(e,r);return this.draw(n),n}path(e,r){const n=this.gen.path(e,r);return this.draw(n),n}}const St="http://www.w3.org/2000/svg";class wr{constructor(e,r){this.svg=e,this.gen=new Wt(r)}draw(e){const r=e.sets||[],n=e.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,s=i.createElementNS(St,"g"),o=e.options.fixedDecimalPlaceDigits;for(const a of r){let u=null;switch(a.type){case"path":u=i.createElementNS(St,"path"),u.setAttribute("d",this.opsToPath(a,o)),u.setAttribute("stroke",n.stroke),u.setAttribute("stroke-width",n.strokeWidth+""),u.setAttribute("fill","none"),n.strokeLineDash&&u.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim()),n.strokeLineDashOffset&&u.setAttribute("stroke-dashoffset",`${n.strokeLineDashOffset}`);break;case"fillPath":u=i.createElementNS(St,"path"),u.setAttribute("d",this.opsToPath(a,o)),u.setAttribute("stroke","none"),u.setAttribute("stroke-width","0"),u.setAttribute("fill",n.fill||""),e.shape!=="curve"&&e.shape!=="polygon"||u.setAttribute("fill-rule","evenodd");break;case"fillSketch":u=this.fillSketch(i,a,n)}u&&s.appendChild(u)}return s}fillSketch(e,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2);const s=e.createElementNS(St,"path");return s.setAttribute("d",this.opsToPath(r,n.fixedDecimalPlaceDigits)),s.setAttribute("stroke",n.fill||""),s.setAttribute("stroke-width",i+""),s.setAttribute("fill","none"),n.fillLineDash&&s.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&s.setAttribute("stroke-dashoffset",`${n.fillLineDashOffset}`),s}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,r){return this.gen.opsToPath(e,r)}line(e,r,n,i,s){const o=this.gen.line(e,r,n,i,s);return this.draw(o)}rectangle(e,r,n,i,s){const o=this.gen.rectangle(e,r,n,i,s);return this.draw(o)}ellipse(e,r,n,i,s){const o=this.gen.ellipse(e,r,n,i,s);return this.draw(o)}circle(e,r,n,i){const s=this.gen.circle(e,r,n,i);return this.draw(s)}linearPath(e,r){const n=this.gen.linearPath(e,r);return this.draw(n)}polygon(e,r){const n=this.gen.polygon(e,r);return this.draw(n)}arc(e,r,n,i,s,o,a=!1,u){const c=this.gen.arc(e,r,n,i,s,o,a,u);return this.draw(c)}curve(e,r){const n=this.gen.curve(e,r);return this.draw(n)}path(e,r){const n=this.gen.path(e,r);return this.draw(n)}}var kr={canvas:(t,e)=>new Mr(t,e),svg:(t,e)=>new wr(t,e),generator:t=>new Wt(t),newSeed:()=>Wt.newSeed()};function Et(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vr(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Nn(t){let e,r,n;t.length!==2?(e=Et,r=(a,u)=>Et(t(a),u),n=(a,u)=>t(a)-u):(e=t===Et||t===vr?t:_r,r=t,n=t);function i(a,u,c=0,f=a.length){if(c<f){if(e(u,u)!==0)return f;do{const l=c+f>>>1;r(a[l],u)<0?c=l+1:f=l}while(c<f)}return c}function s(a,u,c=0,f=a.length){if(c<f){if(e(u,u)!==0)return f;do{const l=c+f>>>1;r(a[l],u)<=0?c=l+1:f=l}while(c<f)}return c}function o(a,u,c=0,f=a.length){const l=i(a,u,c,f-1);return l>c&&n(a[l-1],u)>-n(a[l],u)?l-1:l}return{left:i,center:o,right:s}}function _r(){return 0}function Pr(t){return t===null?NaN:+t}const Sr=Nn(Et),$r=Sr.right;Nn(Pr).center;const Ar=$r;class He extends Map{constructor(e,r=Lr){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(Ge(this,e))}has(e){return super.has(Ge(this,e))}set(e,r){return super.set(Nr(this,e),r)}delete(e){return super.delete(Or(this,e))}}function Ge({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Nr({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Or({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Lr(t){return t!==null&&typeof t=="object"?t.valueOf():t}const Cr=Math.sqrt(50),Er=Math.sqrt(10),Tr=Math.sqrt(2);function qt(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=Cr?10:s>=Er?5:s>=Tr?2:1;let a,u,c;return i<0?(c=Math.pow(10,-i)/o,a=Math.round(t*c),u=Math.round(e*c),a/c<t&&++a,u/c>e&&--u,c=-c):(c=Math.pow(10,i)*o,a=Math.round(t/c),u=Math.round(e/c),a*c<t&&++a,u*c>e&&--u),u<a&&.5<=r&&r<2?qt(t,e,r*2):[a,u,c]}function Dr(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,o]=n?qt(e,t,r):qt(t,e,r);if(!(s>=i))return[];const a=s-i+1,u=new Array(a);if(n)if(o<0)for(let c=0;c<a;++c)u[c]=(s-c)/-o;else for(let c=0;c<a;++c)u[c]=(s-c)*o;else if(o<0)for(let c=0;c<a;++c)u[c]=(i+c)/-o;else for(let c=0;c<a;++c)u[c]=(i+c)*o;return u}function le(t,e,r){return e=+e,t=+t,r=+r,qt(t,e,r)[2]}function Ir(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?le(e,t,r):le(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function Rr(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function zr(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function ke(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const Be=Symbol("implicit");function On(){var t=new He,e=[],r=[],n=Be;function i(s){let o=t.get(s);if(o===void 0){if(n!==Be)return n;t.set(s,o=e.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new He;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return On(e,r).unknown(n)},ke.apply(i,arguments),i}function Ln(){var t=On().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,o,a=!1,u=0,c=0,f=.5;delete t.unknown;function l(){var h=e().length,p=i<n,d=p?i:n,g=p?n:i;s=(g-d)/Math.max(1,h-u+c*2),a&&(s=Math.floor(s)),d+=(g-d-s*(h-u))*f,o=s*(1-u),a&&(d=Math.round(d),o=Math.round(o));var m=zr(h).map(function(b){return d+s*b});return r(p?m.reverse():m)}return t.domain=function(h){return arguments.length?(e(h),l()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,l()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,a=!0,l()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(h){return arguments.length?(a=!!h,l()):a},t.padding=function(h){return arguments.length?(u=Math.min(1,c=+h),l()):u},t.paddingInner=function(h){return arguments.length?(u=Math.min(1,h),l()):u},t.paddingOuter=function(h){return arguments.length?(c=+h,l()):c},t.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),l()):f},t.copy=function(){return Ln(e(),[n,i]).round(a).paddingInner(u).paddingOuter(c).align(f)},ke.apply(l(),arguments)}function ve(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Cn(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function wt(){}var mt=.7,Ft=1/mt,at="\\s*([+-]?\\d+)\\s*",bt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",H="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jr=/^#([0-9a-f]{3,8})$/,Wr=new RegExp(`^rgb\\(${at},${at},${at}\\)$`),qr=new RegExp(`^rgb\\(${H},${H},${H}\\)$`),Fr=new RegExp(`^rgba\\(${at},${at},${at},${bt}\\)$`),Hr=new RegExp(`^rgba\\(${H},${H},${H},${bt}\\)$`),Gr=new RegExp(`^hsl\\(${bt},${H},${H}\\)$`),Br=new RegExp(`^hsla\\(${bt},${H},${H},${bt}\\)$`),Ve={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ve(wt,yt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ue,formatHex:Ue,formatHex8:Vr,formatHsl:Ur,formatRgb:Ze,toString:Ze});function Ue(){return this.rgb().formatHex()}function Vr(){return this.rgb().formatHex8()}function Ur(){return En(this).formatHsl()}function Ze(){return this.rgb().formatRgb()}function yt(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=jr.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Qe(e):r===3?new T(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?$t(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?$t(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Wr.exec(t))?new T(e[1],e[2],e[3],1):(e=qr.exec(t))?new T(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Fr.exec(t))?$t(e[1],e[2],e[3],e[4]):(e=Hr.exec(t))?$t(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Gr.exec(t))?Je(e[1],e[2]/100,e[3]/100,1):(e=Br.exec(t))?Je(e[1],e[2]/100,e[3]/100,e[4]):Ve.hasOwnProperty(t)?Qe(Ve[t]):t==="transparent"?new T(NaN,NaN,NaN,0):null}function Qe(t){return new T(t>>16&255,t>>8&255,t&255,1)}function $t(t,e,r,n){return n<=0&&(t=e=r=NaN),new T(t,e,r,n)}function Zr(t){return t instanceof wt||(t=yt(t)),t?(t=t.rgb(),new T(t.r,t.g,t.b,t.opacity)):new T}function he(t,e,r,n){return arguments.length===1?Zr(t):new T(t,e,r,n??1)}function T(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}ve(T,he,Cn(wt,{brighter(t){return t=t==null?Ft:Math.pow(Ft,t),new T(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?mt:Math.pow(mt,t),new T(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new T(X(this.r),X(this.g),X(this.b),Ht(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ye,formatHex:Ye,formatHex8:Qr,formatRgb:Xe,toString:Xe}));function Ye(){return`#${Y(this.r)}${Y(this.g)}${Y(this.b)}`}function Qr(){return`#${Y(this.r)}${Y(this.g)}${Y(this.b)}${Y((isNaN(this.opacity)?1:this.opacity)*255)}`}function Xe(){const t=Ht(this.opacity);return`${t===1?"rgb(":"rgba("}${X(this.r)}, ${X(this.g)}, ${X(this.b)}${t===1?")":`, ${t})`}`}function Ht(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function X(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Y(t){return t=X(t),(t<16?"0":"")+t.toString(16)}function Je(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new W(t,e,r,n)}function En(t){if(t instanceof W)return new W(t.h,t.s,t.l,t.opacity);if(t instanceof wt||(t=yt(t)),!t)return new W;if(t instanceof W)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),o=NaN,a=s-i,u=(s+i)/2;return a?(e===s?o=(r-n)/a+(r<n)*6:r===s?o=(n-e)/a+2:o=(e-r)/a+4,a/=u<.5?s+i:2-s-i,o*=60):a=u>0&&u<1?0:o,new W(o,a,u,t.opacity)}function Yr(t,e,r,n){return arguments.length===1?En(t):new W(t,e,r,n??1)}function W(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}ve(W,Yr,Cn(wt,{brighter(t){return t=t==null?Ft:Math.pow(Ft,t),new W(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?mt:Math.pow(mt,t),new W(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new T(ie(t>=240?t-240:t+120,i,n),ie(t,i,n),ie(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new W(Ke(this.h),At(this.s),At(this.l),Ht(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ht(this.opacity);return`${t===1?"hsl(":"hsla("}${Ke(this.h)}, ${At(this.s)*100}%, ${At(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ke(t){return t=(t||0)%360,t<0?t+360:t}function At(t){return Math.max(0,Math.min(1,t||0))}function ie(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const _e=t=>()=>t;function Xr(t,e){return function(r){return t+r*e}}function Jr(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Kr(t){return(t=+t)==1?Tn:function(e,r){return r-e?Jr(e,r,t):_e(isNaN(e)?r:e)}}function Tn(t,e){var r=e-t;return r?Xr(t,r):_e(isNaN(t)?e:t)}const tn=function t(e){var r=Kr(e);function n(i,s){var o=r((i=he(i)).r,(s=he(s)).r),a=r(i.g,s.g),u=r(i.b,s.b),c=Tn(i.opacity,s.opacity);return function(f){return i.r=o(f),i.g=a(f),i.b=u(f),i.opacity=c(f),i+""}}return n.gamma=t,n}(1);function ti(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function ei(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ni(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=Pe(t[o],e[o]);for(;o<r;++o)s[o]=e[o];return function(a){for(o=0;o<n;++o)s[o]=i[o](a);return s}}function ri(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Gt(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function ii(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Pe(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var de=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,se=new RegExp(de.source,"g");function si(t){return function(){return t}}function ai(t){return function(e){return t(e)+""}}function oi(t,e){var r=de.lastIndex=se.lastIndex=0,n,i,s,o=-1,a=[],u=[];for(t=t+"",e=e+"";(n=de.exec(t))&&(i=se.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),a[o]?a[o]+=s:a[++o]=s),(n=n[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,u.push({i:o,x:Gt(n,i)})),r=se.lastIndex;return r<e.length&&(s=e.slice(r),a[o]?a[o]+=s:a[++o]=s),a.length<2?u[0]?ai(u[0].x):si(e):(e=u.length,function(c){for(var f=0,l;f<e;++f)a[(l=u[f]).i]=l.x(c);return a.join("")})}function Pe(t,e){var r=typeof e,n;return e==null||r==="boolean"?_e(e):(r==="number"?Gt:r==="string"?(n=yt(e))?(e=n,tn):oi:e instanceof yt?tn:e instanceof Date?ri:ei(e)?ti:Array.isArray(e)?ni:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ii:Gt)(t,e)}function ui(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function ci(t){return function(){return t}}function fi(t){return+t}var en=[0,1];function nt(t){return t}function pe(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:ci(isNaN(e)?NaN:.5)}function li(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function hi(t,e,r){var n=t[0],i=t[1],s=e[0],o=e[1];return i<n?(n=pe(i,n),s=r(o,s)):(n=pe(n,i),s=r(s,o)),function(a){return s(n(a))}}function di(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=pe(t[o],t[o+1]),s[o]=r(e[o],e[o+1]);return function(a){var u=Ar(t,a,1,n)-1;return s[u](i[u](a))}}function pi(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function gi(){var t=en,e=en,r=Pe,n,i,s,o=nt,a,u,c;function f(){var h=Math.min(t.length,e.length);return o!==nt&&(o=li(t[0],t[h-1])),a=h>2?di:hi,u=c=null,l}function l(h){return h==null||isNaN(h=+h)?s:(u||(u=a(t.map(n),e,r)))(n(o(h)))}return l.invert=function(h){return o(i((c||(c=a(e,t.map(n),Gt)))(h)))},l.domain=function(h){return arguments.length?(t=Array.from(h,fi),f()):t.slice()},l.range=function(h){return arguments.length?(e=Array.from(h),f()):e.slice()},l.rangeRound=function(h){return e=Array.from(h),r=ui,f()},l.clamp=function(h){return arguments.length?(o=h?!0:nt,f()):o!==nt},l.interpolate=function(h){return arguments.length?(r=h,f()):r},l.unknown=function(h){return arguments.length?(s=h,l):s},function(h,p){return n=h,i=p,f()}}function mi(){return gi()(nt,nt)}function bi(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Bt(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function ut(t){return t=Bt(Math.abs(t)),t?t[1]:NaN}function yi(t,e){return function(r,n){for(var i=r.length,s=[],o=0,a=t[0],u=0;i>0&&a>0&&(u+a+1>n&&(a=Math.max(1,n-u)),s.push(r.substring(i-=a,i+a)),!((u+=a+1)>n));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}function xi(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Mi=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vt(t){if(!(e=Mi.exec(t)))throw new Error("invalid format: "+t);var e;return new Se({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Vt.prototype=Se.prototype;function Se(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Se.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function wi(t){t:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break t;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var Dn;function ki(t,e){var r=Bt(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(Dn=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Bt(t,Math.max(0,e+s-1))[0]}function nn(t,e){var r=Bt(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const rn={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:bi,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>nn(t*100,e),r:nn,s:ki,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function sn(t){return t}var an=Array.prototype.map,on=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function vi(t){var e=t.grouping===void 0||t.thousands===void 0?sn:yi(an.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?sn:xi(an.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function c(l){l=Vt(l);var h=l.fill,p=l.align,d=l.sign,g=l.symbol,m=l.zero,b=l.width,y=l.comma,x=l.precision,w=l.trim,k=l.type;k==="n"?(y=!0,k="g"):rn[k]||(x===void 0&&(x=12),w=!0,k="g"),(m||h==="0"&&p==="=")&&(m=!0,h="0",p="=");var _=g==="$"?r:g==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",S=g==="$"?n:/[%p]/.test(k)?o:"",P=rn[k],q=/[defgprs%]/.test(k);x=x===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function L(v){var F=_,$=S,A,D,R;if(k==="c")$=P(v)+$,v="";else{v=+v;var z=v<0||1/v<0;if(v=isNaN(v)?u:P(Math.abs(v),x),w&&(v=wi(v)),z&&+v==0&&d!=="+"&&(z=!1),F=(z?d==="("?d:a:d==="-"||d==="("?"":d)+F,$=(k==="s"?on[8+Dn/3]:"")+$+(z&&d==="("?")":""),q){for(A=-1,D=v.length;++A<D;)if(R=v.charCodeAt(A),48>R||R>57){$=(R===46?i+v.slice(A+1):v.slice(A))+$,v=v.slice(0,A);break}}}y&&!m&&(v=e(v,1/0));var J=F.length+v.length+$.length,j=J<b?new Array(b-J+1).join(h):"";switch(y&&m&&(v=e(j+v,j.length?b-$.length:1/0),j=""),p){case"<":v=F+v+$+j;break;case"=":v=F+j+v+$;break;case"^":v=j.slice(0,J=j.length>>1)+F+v+$+j.slice(J);break;default:v=j+F+v+$;break}return s(v)}return L.toString=function(){return l+""},L}function f(l,h){var p=c((l=Vt(l),l.type="f",l)),d=Math.max(-8,Math.min(8,Math.floor(ut(h)/3)))*3,g=Math.pow(10,-d),m=on[8+d/3];return function(b){return p(g*b)+m}}return{format:c,formatPrefix:f}}var Nt,In,Rn;_i({thousands:",",grouping:[3],currency:["$",""]});function _i(t){return Nt=vi(t),In=Nt.format,Rn=Nt.formatPrefix,Nt}function Pi(t){return Math.max(0,-ut(Math.abs(t)))}function Si(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ut(e)/3)))*3-ut(Math.abs(t)))}function $i(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ut(e)-ut(t))+1}function Ai(t,e,r,n){var i=Ir(t,e,r),s;switch(n=Vt(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=Si(i,o))&&(n.precision=s),Rn(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=$i(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Pi(i))&&(n.precision=s-(n.type==="%")*2);break}}return In(n)}function Ni(t){var e=t.domain;return t.ticks=function(r){var n=e();return Dr(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return Ai(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,o=n[i],a=n[s],u,c,f=10;for(a<o&&(c=o,o=a,a=c,c=i,i=s,s=c);f-- >0;){if(c=le(o,a,r),c===u)return n[i]=o,n[s]=a,e(n);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;u=c}return t},t}function zn(){var t=mi();return t.copy=function(){return pi(t,zn())},ke.apply(t,arguments),Ni(t)}function Oi(t){let e,r,n=t[0].Date+"",i,s,o,a=cn(parseInt(t[0].Land))+"",u,c,f;return{c(){e=V("div"),r=V("h3"),i=it(n),s=Dt(),o=V("p"),u=it(a),c=it(" acres"),N(r,"class","svelte-1jb7uee"),N(o,"class","svelte-1jb7uee"),N(e,"class","tooltip svelte-1jb7uee"),kt(e,"left",t[2]+"px"),kt(e,"top",t[0].y+un+"px"),gt(()=>t[4].call(e))},m(l,h){rt(l,e,h),O(e,r),O(r,i),O(e,s),O(e,o),O(o,u),O(o,c),f=mn(e,t[4].bind(e))},p(l,[h]){h&1&&n!==(n=l[0].Date+"")&&It(i,n),h&1&&a!==(a=cn(parseInt(l[0].Land))+"")&&It(u,a),h&4&&kt(e,"left",l[2]+"px"),h&1&&kt(e,"top",l[0].y+un+"px")},i:dt,o:dt,d(l){l&&B(e),f()}}}const ae=5,un=5;function cn(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function Li(t,e,r){let n,{data:i}=e,{width:s}=e,o;function a(){o=this.clientWidth,r(1,o)}return t.$$set=u=>{"data"in u&&r(0,i=u.data),"width"in u&&r(3,s=u.width)},t.$$.update=()=>{t.$$.dirty&11&&r(2,n=i.x+o+ae>s?i.x-o-ae:i.x+ae)},[i,o,n,s,a]}class Ci extends xe{constructor(e){super(),ye(this,e,Li,Oi,ge,{data:0,width:3})}}function fn(t,e,r){const n=t.slice();return n[18]=e[r],n[20]=r,n}function ln(t){let e,r,n=t[18].Date+"",i,s,o=t[5](t[18],t[0],t[20],t[7])+"",a;return{c(){e=Tt("g"),r=Tt("text"),i=it(n),a=it(o),N(r,"text-anchor","end"),N(r,"x","35"),N(r,"y",s=t[2](t[18].Date)+t[2].bandwidth()/2),N(r,"dy",Wn/5),N(r,"class","svelte-1ni19m1"),N(e,"class","axis-y"),N(e,"dy","100")},m(u,c){rt(u,e,c),O(e,r),O(r,i),O(e,a)},p(u,c){c&1&&n!==(n=u[18].Date+"")&&It(i,n),c&5&&s!==(s=u[2](u[18].Date)+u[2].bandwidth()/2)&&N(r,"y",s),c&33&&o!==(o=u[5](u[18],u[0],u[20],u[7])+"")&&It(a,o)},d(u){u&&B(e)}}}function hn(t){let e,r;return e=new Ci({props:{data:t[4],width:t[3]}}),{c(){wn(e.$$.fragment)},m(n,i){me(e,n,i),r=!0},p(n,i){const s={};i&16&&(s.data=n[4]),i&8&&(s.width=n[3]),e.$set(s)},i(n){r||(G(e.$$.fragment,n),r=!0)},o(n){ot(e.$$.fragment,n),r=!1},d(n){be(e,n)}}}function Ei(t){let e,r,n,i,s,o,a,u,c=Ce(t[0]),f=[];for(let h=0;h<c.length;h+=1)f[h]=ln(fn(t,c,h));let l=t[4]&&hn(t);return{c(){e=V("div"),r=V("h2"),r.textContent="Acres of land owned by Black people in Georgia.",n=Dt(),i=Tt("svg"),s=Tt("g");for(let h=0;h<f.length;h+=1)f[h].c();o=Dt(),l&&l.c(),N(r,"id","viz-header"),N(r,"class","svelte-1ni19m1"),N(s,"id","inner-chart"),N(s,"transform",`translate(${t[6].left}, ${t[6].top})`),N(i,"id","chart"),N(i,"height",jn),N(i,"width",t[1]),N(i,"class","svelte-1ni19m1"),N(e,"class","chart-container svelte-1ni19m1"),gt(()=>t[13].call(e))},m(h,p){rt(h,e,p),O(e,r),O(e,n),O(e,i),O(i,s);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(s,null);O(e,o),l&&l.m(e,null),a=mn(e,t[13].bind(e)),u=!0},p(h,[p]){if(p&165){c=Ce(h[0]);let d;for(d=0;d<c.length;d+=1){const g=fn(h,c,d);f[d]?f[d].p(g,p):(f[d]=ln(g),f[d].c(),f[d].m(s,null))}for(;d<f.length;d+=1)f[d].d(1);f.length=c.length}(!u||p&2)&&N(i,"width",h[1]),h[4]?l?(l.p(h,p),p&16&&G(l,1)):(l=hn(h),l.c(),G(l,1),l.m(e,null)):l&&(xn(),ot(l,1,1,()=>{l=null}),Mn())},i(h){u||(G(l),u=!0)},o(h){ot(l),u=!1},d(h){h&&B(e),Gn(f,h),l&&l.d(),a()}}}let jn=800;const Ti="inner-chart",Wn=20;function Di(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function Ii(t,e,r){let n,i,{data:s=[]}=e,{value:o=""}=e,a,u=600,c,f,l,h,p;const d={top:0,right:100,bottom:20,left:0};let g=jn-d.top-d.bottom;const m={bowing:.25,fill:"rgba(253,59,90,0.9)",fillStyle:"hachure",fillWeight:1,hachureAngle:90,hachureGap:.75,roughness:2,seed:1e3,strokeWidth:.25};function b(w,k,_){let S=document.createElementNS("http://www.w3.org/2000/svg","text");k!==0?S.setAttribute("x",h(w.Land)/1.5):S.setAttribute("x",h(w.Land)/2),S.setAttribute("y",p(w.Date)+p.bandwidth()/2),S.setAttribute("dy","0.25rem"),S.setAttribute("text-anchor","center"),S.setAttribute("font-family","BentonSansCond-Bold"),S.textContent=Di(parseFloat(w.Land)),_.appendChild(S)}function y(){r(10,f=document.getElementById(Ti)),r(9,c=kr.svg(f))}bn(y);function x(){u=this.clientWidth,r(1,u)}return t.$$set=w=>{"data"in w&&r(0,s=w.data),"value"in w&&r(8,o=w.value)},t.$$.update=()=>{t.$$.dirty&2&&r(3,n=u-d.left-d.right),t.$$.dirty&1&&r(2,p=Ln().domain(s.map(w=>w.Date)).range([g,0]).padding(.25)),t.$$.dirty&1&&r(11,l=Rr(s,w=>parseFloat(w.Land))),t.$$.dirty&2056&&r(12,h=zn().domain([0,l]).range([0,n])),t.$$.dirty&5636&&r(5,i=function(w,k,_,S){if(!c)return;const P=c.rectangle(50,p(w.Date),h(w.Land),Wn,S);P.properties=w,P.setAttribute("class","bar"),P.setAttribute("transition","opacity 0.3s ease-in-out;"),P.addEventListener("mouseover",q=>{P.properties.x=q.layerX,P.properties.y=q.layerY,r(4,a=P.properties),P.setAttribute("opacity","0.3")}),P.addEventListener("mouseout",q=>{r(4,a=null),P.setAttribute("opacity","1")}),f.appendChild(P),(_===0||_===k.length-1)&&b(w,_,f)})},[s,u,p,n,a,i,d,m,o,c,f,l,h,x]}class Ri extends xe{constructor(e){super(),ye(this,e,Ii,Ei,ge,{data:0,value:8})}}function dn(t){let e,r;return e=new Ri({props:{data:t[0].sort(t[2]),value:t[1]}}),{c(){wn(e.$$.fragment)},m(n,i){me(e,n,i),r=!0},p(n,i){const s={};i&1&&(s.data=n[0].sort(n[2])),e.$set(s)},i(n){r||(G(e.$$.fragment,n),r=!0)},o(n){ot(e.$$.fragment,n),r=!1},d(n){be(e,n)}}}function zi(t){let e,r,n,i,s=t[0]&&dn(t);return{c(){e=V("header"),e.innerHTML='<h1 class="svelte-qmifsu">DuBois Data Portraits</h1> <p class="subhead svelte-qmifsu">Challenge #3. Visit the <a target="_blank" href="https://www.datavisualizationsociety.org/news/2024/2/2/advance-your-data-viz-skills-with-the-weekly-2024-du-bois-visualization-challenge">Data visualization Society</a> for more information.</p>',r=Dt(),n=V("main"),s&&s.c(),N(e,"class","svelte-qmifsu")},m(o,a){rt(o,e,a),rt(o,r,a),rt(o,n,a),s&&s.m(n,null),i=!0},p(o,[a]){o[0]?s?(s.p(o,a),a&1&&G(s,1)):(s=dn(o),s.c(),G(s,1),s.m(n,null)):s&&(xn(),ot(s,1,1,()=>{s=null}),Mn())},i(o){i||(G(s),i=!0)},o(o){ot(s),i=!1},d(o){o&&(B(e),B(r),B(n)),s&&s.d()}}}const ji="https://raw.githubusercontent.com/ajstarks/dubois-data-portraits/master/challenge/2024/challenge03/data.csv";function Wi(t,e,r){let n,i;async function s(u){const f=await(await fetch(u)).text();return sr(f)}async function o(){r(0,n=await s(ji))}return bn(o),[n,i,(u,c)=>parseFloat(c.Date)-parseFloat(u.Date)]}class qi extends xe{constructor(e){super(),ye(this,e,Wi,zi,ge,{})}}new qi({target:document.getElementById("app")});
